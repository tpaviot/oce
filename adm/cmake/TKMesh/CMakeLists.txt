set(TOOLKIT TKMesh)

set(TOOLKIT_MODULES
	BRepMesh
	IntPoly
)
set(TOOLKIT_DEPENDS
	TKBRep
	TKMath
	TKernel
	TKG2d
	TKG3d
	TKGeomBase
	TKTopAlgo
	TKGeomAlgo
)
if(OCE_MULTITHREAD_LIBRARY STREQUAL "TBB" AND TBB_INCLUDE_DIR AND TBB_LIBRARY)
	add_definitions(-DHAVE_TBB)
	set(TOOLKIT_INCLUDE_DIRECTORIES ${TBB_INCLUDE_DIR})
	if(CMAKE_CONFIGURATION_TYPES OR NMAKE)
		set(TOOLKIT_LIBS_DEBUG ${TBB_LIBRARY_DEBUG})
		set(TOOLKIT_LIBS_OPTIMIZED ${TBB_LIBRARY})
	else(CMAKE_CONFIGURATION_TYPES OR NMAKE)
		set(TOOLKIT_LIBS ${TBB_LIBRARY})
	endif(CMAKE_CONFIGURATION_TYPES OR NMAKE)
endif(OCE_MULTITHREAD_LIBRARY STREQUAL "TBB" AND TBB_INCLUDE_DIR AND TBB_LIBRARY)
if(OCE_MULTITHREAD_LIBRARY STREQUAL "OPENMP" AND OPENMP_FOUND)
	set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} ${OpenMP_CXX_FLAGS}")
endif(OCE_MULTITHREAD_LIBRARY STREQUAL "OPENMP" AND OPENMP_FOUND)

if(OCE_DISABLE_BSPLINE_MESHER)
	set_source_files_properties( "${OCE_SOURCE_DIR}/src/BRepMesh/BRepMesh_FastDiscretFace.cxx" PROPERTIES COMPILE_DEFINITIONS OCE_DISABLE_BSPLINE_MESHER )
endif(OCE_DISABLE_BSPLINE_MESHER)

include(../BuildToolkit.cmake)

