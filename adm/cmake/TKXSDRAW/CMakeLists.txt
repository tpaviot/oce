project(TKXSDRAW)

if (WIN32)
  list( APPEND TKXSDRAW_PRECOMPILED_DEFS "-D__SWDRAW_DLL" )
  list( APPEND TKXSDRAW_PRECOMPILED_DEFS "-D__XSDRAW_DLL" )
  list( APPEND TKXSDRAW_PRECOMPILED_DEFS "-D__XSDRAWIGES_DLL" )
  list( APPEND TKXSDRAW_PRECOMPILED_DEFS "-D__XSDRAWSTEP_DLL" )
  list( APPEND TKXSDRAW_PRECOMPILED_DEFS "-D__XSDRAWSTLVRML_DLL" )
  string( REGEX REPLACE ";" " " TKXSDRAW_PRECOMPILED_DEFS "${TKXSDRAW_PRECOMPILED_DEFS}")
endif()

  list( APPEND TKXSDRAW_COMPILER_DIRECTORIES "${WOK_LIB_PATH}" )
  list( APPEND TKXSDRAW_COMPILER_DIRECTORIES "../../../inc" )
  list( APPEND TKXSDRAW_COMPILER_DIRECTORIES "../../../drv/SWDRAW" )
  list( APPEND TKXSDRAW_COMPILER_DIRECTORIES "../../../src/SWDRAW" )
  list( APPEND TKXSDRAW_COMPILER_DIRECTORIES "../../../drv/XSDRAW" )
  list( APPEND TKXSDRAW_COMPILER_DIRECTORIES "../../../src/XSDRAW" )
  list( APPEND TKXSDRAW_COMPILER_DIRECTORIES "../../../drv/XSDRAWIGES" )
  list( APPEND TKXSDRAW_COMPILER_DIRECTORIES "../../../src/XSDRAWIGES" )
  list( APPEND TKXSDRAW_COMPILER_DIRECTORIES "../../../drv/XSDRAWSTEP" )
  list( APPEND TKXSDRAW_COMPILER_DIRECTORIES "../../../src/XSDRAWSTEP" )
  list( APPEND TKXSDRAW_COMPILER_DIRECTORIES "../../../drv/XSDRAWSTLVRML" )
  list( APPEND TKXSDRAW_COMPILER_DIRECTORIES "../../../src/XSDRAWSTLVRML" )

if (WIN32)
else()
endif()

  list( APPEND TKXSDRAW_USED_LIBS TKBRep )
  list( APPEND TKXSDRAW_USED_LIBS TKV3d )
  list( APPEND TKXSDRAW_USED_LIBS TKMath )
  list( APPEND TKXSDRAW_USED_LIBS TKNIS )
  list( APPEND TKXSDRAW_USED_LIBS TKernel )
  list( APPEND TKXSDRAW_USED_LIBS TKService )
  list( APPEND TKXSDRAW_USED_LIBS TKXSBase )
  list( APPEND TKXSDRAW_USED_LIBS TKMeshVS )
  list( APPEND TKXSDRAW_USED_LIBS TKG3d )
  list( APPEND TKXSDRAW_USED_LIBS TKViewerTest )
  list( APPEND TKXSDRAW_USED_LIBS TKG2d )
  list( APPEND TKXSDRAW_USED_LIBS TKSTEPBase )
  list( APPEND TKXSDRAW_USED_LIBS TKTopAlgo )
  list( APPEND TKXSDRAW_USED_LIBS TKShHealing )
  list( APPEND TKXSDRAW_USED_LIBS TKGeomBase )
  list( APPEND TKXSDRAW_USED_LIBS TKGeomAlgo )
  list( APPEND TKXSDRAW_USED_LIBS TKMesh )
  list( APPEND TKXSDRAW_USED_LIBS TKDraw )
  list( APPEND TKXSDRAW_USED_LIBS TKSTEP )
  list( APPEND TKXSDRAW_USED_LIBS TKIGES )
  list( APPEND TKXSDRAW_USED_LIBS TKSTL )
  list( APPEND TKXSDRAW_USED_LIBS TKVRML )

if (WIN32)
elseif(APPLE)
else()
endif()

  list( APPEND TKXSDRAW_USED_SRCFILES "../../../src/SWDRAW/SWDRAW.cxx" )
  SOURCE_GROUP (SWDRAW FILES "../../../src/SWDRAW/SWDRAW.cxx")

  list( APPEND TKXSDRAW_USED_SRCFILES "../../../src/SWDRAW/SWDRAW_ShapeAnalysis.cxx" )
  SOURCE_GROUP (SWDRAW FILES "../../../src/SWDRAW/SWDRAW_ShapeAnalysis.cxx")

  list( APPEND TKXSDRAW_USED_SRCFILES "../../../src/SWDRAW/SWDRAW_ShapeBuild.cxx" )
  SOURCE_GROUP (SWDRAW FILES "../../../src/SWDRAW/SWDRAW_ShapeBuild.cxx")

  list( APPEND TKXSDRAW_USED_SRCFILES "../../../src/SWDRAW/SWDRAW_ShapeConstruct.cxx" )
  SOURCE_GROUP (SWDRAW FILES "../../../src/SWDRAW/SWDRAW_ShapeConstruct.cxx")

  list( APPEND TKXSDRAW_USED_SRCFILES "../../../src/SWDRAW/SWDRAW_ShapeCustom.cxx" )
  SOURCE_GROUP (SWDRAW FILES "../../../src/SWDRAW/SWDRAW_ShapeCustom.cxx")

  list( APPEND TKXSDRAW_USED_SRCFILES "../../../src/SWDRAW/SWDRAW_ShapeExtend.cxx" )
  SOURCE_GROUP (SWDRAW FILES "../../../src/SWDRAW/SWDRAW_ShapeExtend.cxx")

  list( APPEND TKXSDRAW_USED_SRCFILES "../../../src/SWDRAW/SWDRAW_ShapeFix.cxx" )
  SOURCE_GROUP (SWDRAW FILES "../../../src/SWDRAW/SWDRAW_ShapeFix.cxx")

  list( APPEND TKXSDRAW_USED_SRCFILES "../../../src/SWDRAW/SWDRAW_ShapeProcess.cxx" )
  SOURCE_GROUP (SWDRAW FILES "../../../src/SWDRAW/SWDRAW_ShapeProcess.cxx")

  list( APPEND TKXSDRAW_USED_SRCFILES "../../../src/SWDRAW/SWDRAW_ShapeProcessAPI.cxx" )
  SOURCE_GROUP (SWDRAW FILES "../../../src/SWDRAW/SWDRAW_ShapeProcessAPI.cxx")

  list( APPEND TKXSDRAW_USED_SRCFILES "../../../src/SWDRAW/SWDRAW_ShapeTool.cxx" )
  SOURCE_GROUP (SWDRAW FILES "../../../src/SWDRAW/SWDRAW_ShapeTool.cxx")

  list( APPEND TKXSDRAW_USED_SRCFILES "../../../src/SWDRAW/SWDRAW_ShapeUpgrade.cxx" )
  SOURCE_GROUP (SWDRAW FILES "../../../src/SWDRAW/SWDRAW_ShapeUpgrade.cxx")

  list( APPEND TKXSDRAW_USED_SRCFILES "../../../src/SWDRAW/SWDRAW_ToVRML.cxx" )
  SOURCE_GROUP (SWDRAW FILES "../../../src/SWDRAW/SWDRAW_ToVRML.cxx")

  list( APPEND TKXSDRAW_USED_SRCFILES "../../../src/XSDRAW/XSDRAW.cxx" )
  SOURCE_GROUP (XSDRAW FILES "../../../src/XSDRAW/XSDRAW.cxx")

  list( APPEND TKXSDRAW_USED_SRCFILES "../../../src/XSDRAW/XSDRAW_Functions.cxx" )
  SOURCE_GROUP (XSDRAW FILES "../../../src/XSDRAW/XSDRAW_Functions.cxx")

  list( APPEND TKXSDRAW_USED_SRCFILES "../../../src/XSDRAW/XSDRAW_Shape.cxx" )
  SOURCE_GROUP (XSDRAW FILES "../../../src/XSDRAW/XSDRAW_Shape.cxx")

  list( APPEND TKXSDRAW_USED_SRCFILES "../../../src/XSDRAW/XSDRAW_Vars.cxx" )
  SOURCE_GROUP (XSDRAW FILES "../../../src/XSDRAW/XSDRAW_Vars.cxx")

  list( APPEND TKXSDRAW_USED_SRCFILES "../../../src/XSDRAWIGES/XSDRAWIGES.cxx" )
  SOURCE_GROUP (XSDRAWIGES FILES "../../../src/XSDRAWIGES/XSDRAWIGES.cxx")

  list( APPEND TKXSDRAW_USED_SRCFILES "../../../src/XSDRAWSTEP/XSDRAWSTEP.cxx" )
  SOURCE_GROUP (XSDRAWSTEP FILES "../../../src/XSDRAWSTEP/XSDRAWSTEP.cxx")

  list( APPEND TKXSDRAW_USED_SRCFILES "../../../drv/XSDRAWSTLVRML/XSDRAWSTLVRML_CoordsMap_0.cxx" )
  SOURCE_GROUP (XSDRAWSTLVRML FILES "../../../drv/XSDRAWSTLVRML/XSDRAWSTLVRML_CoordsMap_0.cxx")

  list( APPEND TKXSDRAW_USED_SRCFILES "../../../drv/XSDRAWSTLVRML/XSDRAWSTLVRML_DataMapIteratorOfCoordsMap_0.cxx" )
  SOURCE_GROUP (XSDRAWSTLVRML FILES "../../../drv/XSDRAWSTLVRML/XSDRAWSTLVRML_DataMapIteratorOfCoordsMap_0.cxx")

  list( APPEND TKXSDRAW_USED_SRCFILES "../../../drv/XSDRAWSTLVRML/XSDRAWSTLVRML_DataMapIteratorOfElemNodesMap_0.cxx" )
  SOURCE_GROUP (XSDRAWSTLVRML FILES "../../../drv/XSDRAWSTLVRML/XSDRAWSTLVRML_DataMapIteratorOfElemNodesMap_0.cxx")

  list( APPEND TKXSDRAW_USED_SRCFILES "../../../drv/XSDRAWSTLVRML/XSDRAWSTLVRML_DataMapNodeOfCoordsMap_0.cxx" )
  SOURCE_GROUP (XSDRAWSTLVRML FILES "../../../drv/XSDRAWSTLVRML/XSDRAWSTLVRML_DataMapNodeOfCoordsMap_0.cxx")

  list( APPEND TKXSDRAW_USED_SRCFILES "../../../drv/XSDRAWSTLVRML/XSDRAWSTLVRML_DataMapNodeOfElemNodesMap_0.cxx" )
  SOURCE_GROUP (XSDRAWSTLVRML FILES "../../../drv/XSDRAWSTLVRML/XSDRAWSTLVRML_DataMapNodeOfElemNodesMap_0.cxx")

  list( APPEND TKXSDRAW_USED_SRCFILES "../../../drv/XSDRAWSTLVRML/XSDRAWSTLVRML_ElemNodesMap_0.cxx" )
  SOURCE_GROUP (XSDRAWSTLVRML FILES "../../../drv/XSDRAWSTLVRML/XSDRAWSTLVRML_ElemNodesMap_0.cxx")

  list( APPEND TKXSDRAW_USED_SRCFILES "../../../src/XSDRAWSTLVRML/XSDRAWSTLVRML.cxx" )
  SOURCE_GROUP (XSDRAWSTLVRML FILES "../../../src/XSDRAWSTLVRML/XSDRAWSTLVRML.cxx")

  list( APPEND TKXSDRAW_USED_SRCFILES "../../../src/XSDRAWSTLVRML/XSDRAWSTLVRML_DataSource.cxx" )
  SOURCE_GROUP (XSDRAWSTLVRML FILES "../../../src/XSDRAWSTLVRML/XSDRAWSTLVRML_DataSource.cxx")

  list( APPEND TKXSDRAW_USED_SRCFILES "../../../src/XSDRAWSTLVRML/XSDRAWSTLVRML_DrawableMesh.cxx" )
  SOURCE_GROUP (XSDRAWSTLVRML FILES "../../../src/XSDRAWSTLVRML/XSDRAWSTLVRML_DrawableMesh.cxx")

if (WIN32)
else()

endif()

if ("${USED_TOOLKITS}" STREQUAL "" OR DEFINED TurnONtheTKXSDRAW)
 add_library( TKXSDRAW SHARED ${TKXSDRAW_USED_SRCFILES} )

 set_property(TARGET TKXSDRAW PROPERTY FOLDER Draw)

 install( TARGETS TKXSDRAW
                                 RUNTIME DESTINATION "${INSTALL_DIR}/bin"
                                 ARCHIVE DESTINATION "${INSTALL_DIR}/lib"
                                 LIBRARY DESTINATION "${INSTALL_DIR}/lib")

 if (MSVC)
  install( FILES  ${CMAKE_BINARY_DIR}/out/bin/Debug/TKXSDRAW.pdb CONFIGURATIONS Debug
                                  DESTINATION "${INSTALL_DIR}/bin")
 endif()


 set_target_properties( TKXSDRAW PROPERTIES COMPILE_FLAGS "${TKXSDRAW_PRECOMPILED_DEFS}" )
 include_directories( ${TKXSDRAW_COMPILER_DIRECTORIES} )
 target_link_libraries( TKXSDRAW ${TKXSDRAW_USED_LIBS} )
endif()
