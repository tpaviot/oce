puts "============"
puts "OCC25199"
puts "============"
puts ""
###############################################################################################
# Bad tolerance edge generated by blend algorithm
###############################################################################################

restore [locate_data_file OCC615.brep] a
checkshape a
explode a e

if [catch {blend result a 9 a_15 } catch_result] {
    puts "Faulty OCC615: function BLEND works with exception"
} else {
    puts "OCC615 OK: function CHAMF works OK"
}

explode result E
regexp {Tolerance +MAX=([-0-9.+eE]+)} [tolerance result_21] full MaxTol_1

puts "MaxTolerance = $MaxTol_1"
set MaxTol 0.001

if { $MaxTol_1 > $MaxTol } {
    puts "Faulty OCC25199:  Bad tolerance edge generated by blend algorithm"
} else {
    puts "OCC25199 OK:  Good tolerance edge generated by blend algorithm"
}

set square 197055.
set 2dviewer 0
