<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Open CASCADE Technology: IGES Support</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="occ_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Open CASCADE Technology
   &#160;<span id="projectnumber">7.2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('occt_user_guides__iges.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">IGES Support </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#occt_iges_1">Introduction</a></li>
<li class="level1"><a href="#occt_iges_2">Reading IGES</a><ul><li class="level2"><a href="#occt_iges_2_1">Procedure</a></li>
<li class="level2"><a href="#occt_iges_2_2">Domain covered</a><ul><li class="level3"><a href="#occt_iges_2_2_1">Translatable entities</a></li>
<li class="level3"><a href="#occt_iges_2_2_2">Attributes</a></li>
<li class="level3"><a href="#occt_iges_2_2_3">Administrative data</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_iges_2_3">Description of the process</a><ul><li class="level3"><a href="#occt_iges_2_3_1">Loading the IGES file</a></li>
<li class="level3"><a href="#occt_iges_2_3_2">Checking the IGES file</a></li>
<li class="level3"><a href="#occt_iges_2_3_3">Setting translation parameters</a></li>
<li class="level3"><a href="#occt_iges_2_3_4">Selecting entities</a></li>
<li class="level3"><a href="#occt_iges_2_3_5">Performing the  IGES file translation</a></li>
<li class="level3"><a href="#occt_iges_2_3_6">Getting the  translation results</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_iges_2_4">Mapping of IGES  entities to Open CASCADE Technology shapes</a><ul><li class="level3"><a href="#occt_iges_2_4_1">Points</a></li>
<li class="level3"><a href="#occt_iges_2_4_2">Curves</a></li>
<li class="level3"><a href="#occt_iges_2_4_3">Surfaces</a></li>
<li class="level3"><a href="#occt_iges_2_4_4">Boundary Representation  Solid Entities</a></li>
<li class="level3"><a href="#occt_iges_2_4_5">Structure Entities</a></li>
<li class="level3"><a href="#occt_iges_2_4_6">Subfigures</a></li>
<li class="level3"><a href="#occt_iges_2_4_7">Transformation Matrix</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_iges_2_5">Messages</a></li>
<li class="level2"><a href="#occt_iges_2_6">Tolerance management</a><ul><li class="level3"><a href="#occt_iges_2_6_1">Values used for tolerances during reading IGES</a></li>
<li class="level3"><a href="#occt_iges_2_6_2">Initial setting of tolerances in translating  objects</a></li>
<li class="level3"><a href="#occt_iges_2_6_3">Transfer process</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_iges_2_7">Code architecture</a></li>
<li class="level2"><a href="#occt_iges_2_8">Example</a></li>
</ul>
</li>
<li class="level1"><a href="#occt_iges_3">Writing IGES</a><ul><li class="level2"><a href="#occt_iges_3_1">Procedure</a></li>
<li class="level2"><a href="#occt_iges_3_2">Domain covered</a></li>
<li class="level2"><a href="#occt_iges_3_3">Description of the process</a><ul><li class="level3"><a href="#occt_iges_3_3_1">Initializing the process</a></li>
<li class="level3"><a href="#occt_iges_3_3_2">Setting the translation parameters</a></li>
<li class="level3"><a href="#occt_iges_3_3_3">Performing the Open  CASCADE Technology shape translation</a></li>
<li class="level3"><a href="#occt_iges_3_3_4">Writing the IGES  file</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_iges_3_4">Mapping Open CASCADE  Technology shapes to IGES entities</a><ul><li class="level3"><a href="#occt_iges_3_4_1">Curves</a></li>
<li class="level3"><a href="#occt_iges_3_4_2">Surfaces</a></li>
<li class="level3"><a href="#occt_iges_3_4_3">Topological entities -- Translation in Face mode</a></li>
<li class="level3"><a href="#occt_iges_3_4_4">Topological entities -- Translation in BRep mode</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_iges_3_5">Tolerance  management</a><ul><li class="level3"><a href="#occt_iges_3_5_1">Setting  resolution in an IGES file</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_iges_3_6">Code architecture</a><ul><li class="level3"><a href="#occt_iges_3_6_1">Graph of calls</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_iges_3_7">Example</a></li>
</ul>
</li>
<li class="level1"><a href="#occt_iges_4">Using XSTEPDRAW</a><ul><li class="level2"><a href="#occt_iges_4_2">Setting interface  parameters</a></li>
<li class="level2"><a href="#occt_iges_4_3">Reading IGES files</a></li>
<li class="level2"><a href="#occt_iges_4_4">Analyzing the transferred data</a><ul><li class="level3"><a href="#occt_iges_4_4_1">Checking file contents</a></li>
<li class="level3"><a href="#occt_iges_4_4_2">Estimating the results of reading IGES</a></li>
</ul>
</li>
<li class="level2"><a href="#occt_iges_4_5">Writing an IGES file</a></li>
</ul>
</li>
<li class="level1"><a href="#occt_iges_5">Reading from and writing to IGES</a><ul><li class="level2"><a href="#occt_iges_5_1">Reading from IGES</a></li>
<li class="level2"><a href="#occt_iges_5_2">Writing to IGES</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="occt_iges_1"></a>
Introduction</h1>
<p>The IGES interface reads IGES files and translates them to Open CASCADE Technology models. The interface is able to translate one entity, a group of entities or a whole file. Before beginning a translation, you can set a range of parameters to manage the translation process. If you like, you can also check file consistency before translation. The IGES interface also translates OCCT models to IGES files.</p>
<p>Other kinds of data such as colors and names can be read or written with the help of XDE tools <em> <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_c_a_f_control___reader.html">IGESCAFControl_Reader</a></em> and <em> <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_c_a_f_control___writer.html">IGESCAFControl_Writer</a></em>.</p>
<p>Please, note:</p>
<ul>
<li>an IGES model is an IGES file that has been loaded into memory.</li>
<li>an IGES entity is an entity in the IGES normal sense.</li>
<li>a root entity is the highest level entity of any given type, e.g. type 144 for surfaces and type 186 for solids. Roots are not referenced by other entities.</li>
</ul>
<p>This manual mainly explains how to convert an IGES file to an Open CASCADE Technology (<b>OCCT</b>) shape and vice versa. It provides basic documentation on conversion. For advanced information on conversion, see our <a href="http://www.opencascade.com/content/tutorial-learning">E-learning &amp; Training</a> offerings.</p>
<p>IGES files produced in accordance with IGES standard versions up to and including version 5.3 can be read. IGES files that are produced by this interface conform to IGES version 5.3 (Initial Graphics Exchange Specification, IGES 5.3. ANS US PRO/IPO-100-1996).</p>
<p>This manual principally deals with two OCCT classes:</p><ul>
<li>The Reader class, which loads IGES files and translates their contents to OCCT shapes,</li>
<li>The Writer class, which translates OCCT shapes to IGES entities and then writes these entities to IGES files.</li>
</ul>
<p>File translation is performed in the programming mode, via C++ calls, and the resulting OCCT objects are shapes.</p>
<p>All definitions in IGES version 5.3 are recognized but only 3D geometric entities are translated. When the processor encounters data, which is not translated, it ignores it and writes a message identifying the types of data, which was not handled. This message can be written either to a log file or to screen output.</p>
<p><a class="el" href="occt_user_guides__shape_healing.html">Shape Healing</a> toolkit provides tools to heal various problems, which may be encountered in translated shapes, and to make them valid in Open CASCADE. The Shape Healing is smoothly connected to IGES translator using the same API, only the names of API packages change.</p>
<h1><a class="anchor" id="occt_iges_2"></a>
Reading IGES</h1>
<h2><a class="anchor" id="occt_iges_2_1"></a>
Procedure</h2>
<p>You can translate an IGES file to an OCCT shape by following the steps below:</p><ol type="1">
<li>Load the file,</li>
<li>Check file consistency,</li>
<li>Set the translation parameters,</li>
<li>Perform the file translation,</li>
<li>Fetch the results. </li>
</ol>
<h2><a class="anchor" id="occt_iges_2_2"></a>
Domain covered</h2>
<h3><a class="anchor" id="occt_iges_2_2_1"></a>
Translatable entities</h3>
<p>The types of IGES entities, which can be translated, are:</p><ul>
<li>Points</li>
<li>Lines</li>
<li>Curves</li>
<li>Surfaces</li>
<li>B-Rep entities</li>
<li>Structure entities (groups). Each entity in the group outputs a shape. There can be a group of groups.</li>
<li>Subfigures. Each entity defined in a sub-figure outputs a shape</li>
<li>Transformation Matrix.</li>
</ul>
<p><b>Note</b> that all non-millimeter length unit values in the IGES file are converted to millimeters.</p>
<h3><a class="anchor" id="occt_iges_2_2_2"></a>
Attributes</h3>
<p>Entity attributes in the Directory Entry Section of the IGES file (such as layers, colors and thickness) are translated to Open CASCADE Technology using XDE. </p>
<h3><a class="anchor" id="occt_iges_2_2_3"></a>
Administrative data</h3>
<p>Administrative data, in the Global Section of the IGES file (such as the file name, the name of the author, the date and time a model was created or last modified) is not translated to Open CASCADE Technology. Administrative data can, however, be consulted in the IGES file.</p>
<h2><a class="anchor" id="occt_iges_2_3"></a>
Description of the process</h2>
<h3><a class="anchor" id="occt_iges_2_3_1"></a>
Loading the IGES file</h3>
<p>Before performing any other operation, you have to load the file using the syntax below. </p><div class="fragment"><div class="line">IGESControl_Reader reader; </div><div class="line">IFSelect_ReturnStatus stat  = reader.ReadFile(“filename.igs”); </div></div><!-- fragment --><p> The loading operation only loads the IGES file into computer memory; it does not translate it.</p>
<h3><a class="anchor" id="occt_iges_2_3_2"></a>
Checking the IGES file</h3>
<p>This step is not obligatory. Check the loaded file with: </p><div class="fragment"><div class="line">Standard_Boolean ok =  reader.Check(Standard_True); </div></div><!-- fragment --><p> The variable “ok is True” is returned if no fail message was found; “ok is False” is returned if there was at least one fail message. </p><div class="fragment"><div class="line">reader.PrintCheckLoad  (failsonly, mode); </div></div><!-- fragment --><p> Error messages are displayed if there are invalid or incomplete IGES entities, giving you information on the cause of the error. </p><div class="fragment"><div class="line">Standard_Boolean failsonly  = Standard_True or Standard_False; </div></div><!-- fragment --><p> If you give True, you will see fail messages only. If you give False, you will see both fail and warning messages.</p>
<p>Your analysis of the file can be either message-oriented or entity-oriented. Choose your preference with <em>IFSelect_PrintCount mode = IFSelect_xxx</em>, where <em>xxx</em> can be any of the following:</p><ul>
<li><em>ItemsByEntity</em> gives a sequential list of all messages per IGES entity.</li>
<li><em>CountByItem</em> gives the number of IGES entities with their types per message.</li>
<li><em>ShortByItem</em> gives the number of IGES entities with their types per message and displays rank numbers of the first five IGES entities per message.</li>
<li><em>ListByItem</em> gives the number of IGES entities with their type and rank numbers per message.</li>
<li><em>EntitiesByItem</em> gives the number of IGES entities with their types, rank numbers and Directory Entry numbers per message.</li>
</ul>
<h3><a class="anchor" id="occt_iges_2_3_3"></a>
Setting translation parameters</h3>
<p>The following parameters can be used to translate an IGES file to an OCCT shape. If you give a value that is not within the range of possible values, it will be ignored.</p>
<h4>read.iges.bspline.continuity</h4>
<p>manages the continuity of BSpline curves (IGES entities 106, 112 and 126) after translation to Open CASCADE Technology (Open CASCADE Technology requires that the curves in a model be at least C1 continuous; no such requirement is made by IGES).</p><ul>
<li>0: no change; the curves are taken as they are in the IGES file. C0 entities of Open CASCADE Technology may be produced.</li>
<li>1: if an IGES BSpline, Spline or CopiousData curve is C0 continuous, it is broken down into pieces of C1 continuous <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___b_spline_curve.html">Geom_BSplineCurve</a></em>.</li>
<li>2: This option concerns IGES Spline curves only. IGES Spline curves are broken down into pieces of C2 continuity. If C2 cannot be ensured, the Spline curves will be broken down into pieces of C1 continuity.</li>
</ul>
<p>Read this parameter with: </p><div class="fragment"><div class="line">Standard_Integer ic =  Interface_Static::IVal(&quot;read.iges.bspline.continuity&quot;); </div></div><!-- fragment --><p> Modify this value with: </p><div class="fragment"><div class="line">if  (!Interface_Static::SetIVal (&quot;read.iges.bspline.continuity&quot;,2))  </div><div class="line">.. error ..; </div></div><!-- fragment --><p> Default value is 1.</p>
<p>This parameter does not change the continuity of curves that are used in the construction of IGES BRep entities. In this case, the parameter does not influence the continuity of the resulting OCCT curves (it is ignored).</p>
<h4>read.precision.mode</h4>
<p>reads the precision value.</p><ul>
<li>File (0) the precision value is read in the IGES file header (default).</li>
<li>User (1) the precision value is that of the read.precision.val parameter.</li>
</ul>
<p>Read this parameter with: </p><div class="fragment"><div class="line">Standard_Integer ic =  Interface_Static::IVal(&quot;read.precision.mode&quot;); </div></div><!-- fragment --><p> Modify this value with: </p><div class="fragment"><div class="line">if  (!Interface_Static::SetIVal (&quot;read.precision.mode&quot;,1))  </div><div class="line">.. error ..; </div></div><!-- fragment --><p> Default value is <em>File</em> (0).</p>
<h4>read.precision.val</h4>
<p>User defined precision value. This parameter gives the precision for shape construction when the read.precision.mode parameter value is 1. By default it is 0.0001, but can be any real positive (non null) value.</p>
<p>This value is in the measurement unit defined in the IGES file header.</p>
<p>Read this parameter with: </p><div class="fragment"><div class="line">Standard_Real rp =  Interface_Static::RVal(&quot;read.precision.val&quot;); </div></div><!-- fragment --><p> Modify this parameter with: </p><div class="fragment"><div class="line">if  (!Interface_Static::SetRVal (&quot;read.precision.val&quot;,0.001))  </div><div class="line">.. error ..; </div></div><!-- fragment --><p> Default value is 0.0001.</p>
<p>The value given to this parameter is a target value that is applied to <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___vertex.html">TopoDS_Vertex</a>, <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___edge.html">TopoDS_Edge</a></em> and <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___face.html">TopoDS_Face</a></em> entities. The processor does its best to reach it. Under certain circumstances, the value you give may not be attached to all of the entities concerned at the end of processing. IGES-to-OCCT translation does not improve the quality of the geometry in the original IGES file. This means that the value you enter may be impossible to attain the given quality of geometry in the IGES file.</p>
<p>Value of tolerance used for computation is calculated by multiplying the value of <em>read.precision.val</em> and the value of coefficient of transfer from the file units to millimeters.</p>
<h4>read.maxprecision.mode</h4>
<p>defines the mode of applying the maximum allowed tolerance. Its possible values are:</p>
<ul>
<li><em>Preferred(0)</em> maximum tolerance is used as a limit but sometimes it can be exceeded (currently, only for deviation of a 3D curve of an edge from its pcurves and from vertices of such edge) to ensure shape validity;</li>
<li><em>Forced(1)</em> maximum tolerance is used as a rigid limit, i.e. it can not be exceeded and, if this happens, tolerance is trimmed to suit the maximum-allowable value.</li>
</ul>
<p>Read this parameter with: </p><div class="fragment"><div class="line">Standard_Integer mv =  Interface_Static::IVal(&quot;read.maxprecision.mode&quot;); </div></div><!-- fragment --><p> Modify this parameter with: </p><div class="fragment"><div class="line">if  (!Interface_Static::SetIVal (&quot;read.maxprecision.mode&quot;,1))  </div><div class="line">.. error ..; </div></div><!-- fragment --><p> Default value is <em>Preferred (0)</em>.</p>
<h4>read.maxprecision.val</h4>
<p>defines the maximum allowable tolerance (in mm) of the shape. It should be not less than the basis value of tolerance set in processor (either Resolution from the file or <em>read.precision.val</em>). Actually, the maximum between <em>read.maxprecision.val</em> and basis tolerance is used to define maximum allowed tolerance. Read this parameter with: </p><div class="fragment"><div class="line">Standard_Real rp =  Interface_Static::RVal(&quot;read.maxprecision.val&quot;); </div></div><!-- fragment --><p> Modify this parameter with: </p><div class="fragment"><div class="line">if  (!Interface_Static::SetRVal (&quot;read.maxprecision.val&quot;,0.1))  </div><div class="line">.. error ..; </div></div><!-- fragment --><p> Default value is 1.</p>
<h4>read.stdsameparameter.mode</h4>
<p>defines the using of <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_b_rep_lib.html#a62efd593d5556e95679ff8d11e6a85fd">BRepLib::SameParameter</a></em>. Its possible values are:</p><ul>
<li>0 (Off) &ndash; <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_b_rep_lib.html#a62efd593d5556e95679ff8d11e6a85fd">BRepLib::SameParameter</a></em> is not called,</li>
<li>1 (On) &ndash; <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_b_rep_lib.html#a62efd593d5556e95679ff8d11e6a85fd">BRepLib::SameParameter</a></em> is called. <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_b_rep_lib.html#a62efd593d5556e95679ff8d11e6a85fd">BRepLib::SameParameter</a></em> is used through <em>ShapeFix_Edge::SameParameter</em>. It ensures that the resulting edge will have the lowest tolerance taking pcurves either unmodified from the IGES file or modified by <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_b_rep_lib.html#a62efd593d5556e95679ff8d11e6a85fd">BRepLib::SameParameter</a></em>. Read this parameter with: <div class="fragment"><div class="line">Standard_Integer mv =  Interface_Static::IVal(&quot;read.stdsameparameter.mode&quot;); </div></div><!-- fragment --> Modify this parameter with: <div class="fragment"><div class="line">if  (!Interface_Static::SetIVal (&quot;read.stdsameparameter.mode&quot;,1))  </div><div class="line">.. error ..; </div></div><!-- fragment --> Deafault value is 0 (Off).</li>
</ul>
<h4>read.surfacecurve.mode</h4>
<p>preference for the computation of curves in case of 2D/3D inconsistency in an entity which has both 2D and 3D representations.</p>
<p>Here we are talking about entity types 141 (Boundary), 142 (CurveOnSurface) and 508 (Loop). These are entities representing a contour lying on a surface, which is translated to a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___wire.html">TopoDS_Wire</a></em>, formed by <em>TopoDS_Edges</em>. Each <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___edge.html">TopoDS_Edge</a></em> must have a 3D curve and a 2D curve that reference the surface.</p>
<p>The processor also decides to re-compute either the 3D or the 2D curve even if both curves are translated successfully and seem to be correct, in case there is inconsistency between them. The processor considers that there is inconsistency if any of the following conditions is satisfied:</p><ul>
<li>the number of sub-curves in the 2D curve is different from the number of sub-curves in the 3D curve. This can be either due to different numbers of sub-curves given in the IGES file or because of splitting of curves during translation.</li>
<li>3D or 2D curve is a Circular Arc (entity type 100) starting and ending in the same point (note that this case is incorrect according to the IGES standard).</li>
</ul>
<p>The parameter <em>read.surfacecurve.mode</em> defines which curve (3D or 2D) is used for re-computing the other one:</p><ul>
<li><em>Default(0)</em> use the preference flag value in the entity's Parameter Data section. The flag values are:<ul>
<li>0: no preference given,</li>
<li>1: use 2D for 142 entities and 3D for 141 entities,</li>
<li>2: use 3D for 142 entities and 2D for 141 entities,</li>
<li>3: both representations are equally preferred.</li>
</ul>
</li>
<li><em>2DUse_Preferred (2)</em> : the 2D is used to rebuild the 3D in case of their inconsistency,</li>
<li><em>2DUse_Forced (-2)</em>: the 2D is always used to rebuild the 3D (even if 3D is present in the file),</li>
<li><em>3DUse_Preferred (3)</em>: the 3D is used to rebuild the 2D in case of their inconsistency,</li>
<li><em>3DUse_Forced (-3)</em>: the 3D is always used to rebuild the 2D (even if 2D is present in the file),</li>
</ul>
<p>If no preference is defined (if the value of <em>read.surfacecurve.mode</em> is <em>Default</em> and the value of the preference flag in the entity's Parameter Data section is 0 or 3), an additional analysis is performed.</p>
<p>The 3D representation is preferred to the 2D in two cases:</p><ul>
<li>if 3D and 2D contours in the file have a different number of curves,</li>
<li>if the 2D curve is a Circular Arc (entity type 100) starting and ending in the same point and the 3D one is not.</li>
</ul>
<p>In any other case, the 2D representation is preferred to the 3D.</p>
<p>If either a 3D or a 2D contour is absent in the file or cannot be translated, then it is re-computed from another contour. If the translation of both 2D and 3D contours fails, the whole curve (type 141 or 142) is not translated. If this curve is used for trimming a face, the face will be translated without this trimming and will have natural restrictions.</p>
<p>Read this parameter with: </p><div class="fragment"><div class="line">Standard_Integer ic =  Interface_Static::IVal(&quot;read.surfacecurve.mode&quot;); </div></div><!-- fragment --><p> Modify this value with: </p><div class="fragment"><div class="line">if  (!Interface_Static::SetIVal (&quot;read.surfacecurve.mode&quot;,3))  </div><div class="line">.. error ..; </div></div><!-- fragment --><p> Default value is Default (0).</p>
<h4>read.encoderegularity.angle</h4>
<p>This parameter is used within the <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_b_rep_lib.html#a03ae78ba383db0623f192eb29b44d419">BRepLib::EncodeRegularity()</a></em> function which is called for a shape read from an IGES or a STEP file at the end of translation process. This function sets the regularity flag of an edge in a shell when this edge is shared by two faces. This flag shows the continuity, which these two faces are connected with at that edge.</p>
<p>Read this parameter with: </p><div class="fragment"><div class="line">Standard_Real era =   Interface_Static::RVal(&quot;read.encoderegularity.angle&quot;); </div></div><!-- fragment --><p> Modify this parameter with: </p><div class="fragment"><div class="line">if  (!Interface_Static::SetRVal (&quot;read.encoderegularity.angle&quot;,0.1))   </div><div class="line">.. error ..; </div></div><!-- fragment --><p> Default value is 0.01.</p>
<h4>read.iges.bspline.approxd1.mode</h4>
<p>This parameter is obsolete (it is rarely used in real practice). If set to True, it affects the translation of bspline curves of degree 1 from IGES: these curves (which geometrically are polylines) are split by duplicated points, and the translator attempts to convert each of the obtained parts to a bspline of a higher continuity.</p>
<p>Read this parameter with: </p><div class="fragment"><div class="line">Standard_Real bam =   Interface_Static::CVal(&quot;read.iges.bspline.approxd1.mode&quot;); </div></div><!-- fragment --><p> Modify this parameter with: </p><div class="fragment"><div class="line">if  (!Interface_Static::SetRVal (&quot;read.encoderegularity.angle&quot;,&quot;On&quot;))   </div><div class="line">.. error ..; </div></div><!-- fragment --><p> Default value is Off.</p>
<h4>read.iges.resource.name and read.iges.sequence</h4>
<p>These two parameters define the name of the resource file and the name of the sequence of operators (defined in that file) for Shape Processing, which is automatically performed by the IGES translator. The Shape Processing is a user-configurable step, which is performed after the translation and consists in application of a set of operators to a resulting shape. This is a very powerful tool allowing to customize the shape and to adapt it to the needs of a receiving application. By default, the sequence consists of a single operator <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_shape_fix.html">ShapeFix</a></em> that calls Shape Healing from the IGES translator.</p>
<p>Please find an example of the resource file for IGES (which defines parameters corresponding to the sequence applied by default, i.e. if the resource file is not found) in the Open CASCADE Technology installation, by the path <em>CASROOT%/src/XSTEPResource/IGES</em> .</p>
<p>In order for the IGES translator to use that file, you have to define the environment variable <em>CSF_IGESDefaults</em>, which should point to the directory where the resource file resides. Note that if you change parameter <em>read.iges.resource.name</em>, you should change the name of the resource file and the name of the environment variable correspondingly. The variable should contain a path to the resource file.</p>
<p>Default values:</p><ul>
<li>read.iges.resource.name &ndash; IGES,</li>
<li>read.iges.sequence &ndash; FromIGES.</li>
</ul>
<h4>xstep.cascade.unit</h4>
<p>This parameter defines units to which a shape should be converted when translated from IGES or STEP to CASCADE. Normally it is MM; only those applications that work internally in units other than MM should use this parameter.</p>
<p>Default value is MM.</p>
<h3><a class="anchor" id="occt_iges_2_3_4"></a>
Selecting entities</h3>
<p>A list of entities can be formed by invoking the method <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_x_s_control___reader.html#a7bf2cf24e66a326559ad1acf43b05744">IGESControl_Reader::GiveList</a></em>. </p><div class="fragment"><div class="line">Handle(TColStd_HSequenceOfTransient)  list = reader.GiveList(); </div></div><!-- fragment --><p> Several predefined operators can be used to select a list of entities of a specific type. To make a selection, you use the method <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_x_s_control___reader.html#a7bf2cf24e66a326559ad1acf43b05744">IGESControl_Reader::GiveList</a></em> with the selection type in quotation marks as an argument. You can also make cumulative selections. For example, you would use the following syntax:</p><ol type="1">
<li>Requesting the faces in the file: <div class="fragment"><div class="line">faces =  Reader.GiveList(&quot;iges-faces&quot;); </div></div><!-- fragment --></li>
<li>Requesting the visible roots in the file: <div class="fragment"><div class="line">visibles =  Reader.GiveList(iges-visible-roots); </div></div><!-- fragment --></li>
<li>Requesting the visible faces: <div class="fragment"><div class="line">visfac =  Reader.GiveList(iges-visible-roots,faces); </div></div><!-- fragment --> Using a signature, you can define a selection dynamically, filtering the string by means of a criterion. When you request a selection using the method GiveList, you can give either a predefined selection or a selection by signature. You make your selection by signature using the predefined signature followed by your criterion in parentheses as shown in the example below. The syntaxes given are equivalent to each other. <div class="fragment"><div class="line">faces =  Reader.GiveList(“xst-type(SurfaceOfRevolution)”); </div><div class="line">faces =  Reader.GiveList(“iges-type(120)”); </div></div><!-- fragment --> You can also look for:<ul>
<li>values returned by your signature which match your criterion exactly <div class="fragment"><div class="line">faces =  Reader.GiveList(“xst-type(=SurfaceOfRevolution)”); </div></div><!-- fragment --></li>
<li>values returned by your signature which do not contain your criterion <div class="fragment"><div class="line">faces = Reader.GiveList(“xst-type(!SurfaceOfRevolution)”); </div></div><!-- fragment --></li>
<li>values returned by your signature which do not exactly match your criterion. <div class="fragment"><div class="line">faces =  Reader.GiveList(“xst-type(!=SurfaceOfRevolution)”); </div></div><!-- fragment --></li>
</ul>
</li>
</ol>
<h4>List of predefined operators that can be used:</h4>
<ul>
<li><em>xst-model-all</em> &ndash; selects all entities.</li>
<li><em>xst-model-roots</em> &ndash; selects all roots.</li>
<li><em>xst-transferrable-all</em> &ndash; selects all translatable entities.</li>
<li><em>xst-transferrable-roots</em> &ndash; selects all translatable roots (default).</li>
<li><em>xst-sharing + &lt;selection&gt;</em> &ndash; selects all entities sharing at least one entity selected by &lt;selection&gt;.</li>
<li><em>xst-shared + &lt;selection&gt;</em> &ndash; selects all entities shared by at least one entity selected by &lt;selection&gt;.</li>
<li><em>iges-visible-roots</em> &ndash; selects all visible roots, whether translatable or not.</li>
<li><em>iges-visible-transf-roots</em> &ndash; selects all visible and translatable roots.</li>
<li><em>iges-blanked-roots</em> &ndash; selects all blank roots, whether translatable or not.</li>
<li><em>iges-blanked-transf-roots</em> &ndash; selects all blank and translatable roots.</li>
<li><em>iges-status-independant</em> &ndash; selects entities whose IGES Subordinate Status = 0.</li>
<li><em>iges-bypass-group</em> &ndash; selects all root entities. If a root entity is a group (402/7 or 402/9), the entities in the group are selected.</li>
<li><em>iges-bypass-subfigure</em> &ndash; selects all root entities. If a root entity is a subfigure definition (308), the entities in the subfigure definition are selected.</li>
<li><em>iges-bypass-group-subfigure</em> &ndash; selects all root entities. If a root entity is a group (402/7 or 402/9) or a subfigure definition (308), the entities in the group and in the subfigure definition are selected.</li>
<li><em>iges-curves-3d</em> &ndash; selects 3D curves, whether they are roots or not (e.g. a 3D curve on a surface).</li>
<li><em>iges-basic-geom</em> &ndash; selects 3D curves and untrimmed surfaces.</li>
<li><em>iges-faces</em> &ndash; selects face-supporting surfaces (trimmed or not).</li>
<li><em>iges-surfaces</em> &ndash; selects surfaces not supporting faces (i.e. with natural bounds).</li>
<li><em>iges-basic-curves-3d</em> &ndash; selects the same entities as iges-curves-3d. Composite Curves are broken down into their components and the components are selected.</li>
</ul>
<h3><a class="anchor" id="occt_iges_2_3_5"></a>
Performing the  IGES file translation</h3>
<p>Perform translation according to what you want to translate:</p><ol type="1">
<li>Translate an entity identified by its rank with: <div class="fragment"><div class="line">Standard_Boolean ok =  reader.Transfer (rank); </div></div><!-- fragment --></li>
<li>Translate an entity identified by its handle with: <div class="fragment"><div class="line">Standard_Boolean ok =  reader.TransferEntity (ent); </div></div><!-- fragment --></li>
<li>Translate a list of entities in one operation with: <div class="fragment"><div class="line">Standard_Integer nbtrans =  reader.TransferList (list); </div><div class="line">reader.IsDone(); </div></div><!-- fragment --> where <em>nbtrans</em> returns the number of items in the list that produced a shape and <em>reader.IsDone()</em> indicates whether at least one entity was translated.</li>
<li>Translate a list of entities, entity by entity: <div class="fragment"><div class="line">Standard_Integer i,nb =  list-Length();  </div><div class="line">for (i = 1; i  &lt;= nb; i ++) {  </div><div class="line">    Handle(Standard_Transient) ent = list-Value(i);  </div><div class="line">    Standard_Boolean OK = reader.TransferEntity (ent);  </div><div class="line">} </div></div><!-- fragment --></li>
<li>Translate the whole file (all entities or only visible entities) with: <div class="fragment"><div class="line">Standard_Boolean  onlyvisible = Standard_True or Standard_False;  </div><div class="line">reader.TransferRoots(onlyvisible) </div></div><!-- fragment --></li>
</ol>
<h3><a class="anchor" id="occt_iges_2_3_6"></a>
Getting the  translation results</h3>
<p>Each successful translation operation outputs one shape. A series of translations gives a series of shapes. Each time you invoke <em>TransferEntity, Transfer</em> or <em>Transferlist</em>, their results are accumulated and NbShapes increases. You can clear the results (Clear function) between two translation operations, if you do not do this, the results from the next translation will be added to the accumulation. <em>TransferRoots</em> operations automatically clear all existing results before they start. </p><div class="fragment"><div class="line">Standard_Integer nbs =  reader.NbShapes(); </div></div><!-- fragment --><p> returns the number of shapes recorded in the result. </p><div class="fragment"><div class="line">TopoDS_Shape shape =  reader.Shape(num);, </div></div><!-- fragment --><p> returns the result <em>num</em>, where <em>num</em> is an integer between 1 and <em>NbShapes</em>. </p><div class="fragment"><div class="line">TopoDS_Shape shape =  reader.Shape(); </div></div><!-- fragment --><p> returns the first result in a translation operation. </p><div class="fragment"><div class="line">TopoDS_Shape shape =  reader.OneShape(); </div></div><!-- fragment --><p> returns all results in a single shape which is:</p><ul>
<li>a null shape if there are no results,</li>
<li>in case of a single result, a shape that is specific to that result,</li>
<li>a compound that lists the results if there are several results. <div class="fragment"><div class="line">reader.Clear(); </div></div><!-- fragment --> erases the existing results. <div class="fragment"><div class="line">reader.PrintTransferInfo  (failsonly, mode); </div></div><!-- fragment --> displays the messages that appeared during the last invocation of <em>Transfer</em> or <em>TransferRoots</em>.</li>
</ul>
<p>If <em>failsonly</em> is <em>IFSelect_FailOnly</em>, only fail messages will be output, if it is <em>IFSelect_FailAndWarn</em>, all messages will be output. Parameter “mode” can have <em>IFSelect_xxx</em> values where <em>xxx</em> can be:</p><ul>
<li><em>GeneralCount</em> &ndash; gives general statistics on the transfer (number of translated IGES entities, number of fails and warnings, etc)</li>
<li><em>CountByItem</em> &ndash; gives the number of IGES entities with their types per message.</li>
<li><em>ListByItem</em> &ndash; gives the number of IGES entities with their type and DE numbers per message.</li>
<li><em>ResultCount</em> &ndash; gives the number of resulting OCCT shapes per type.</li>
<li><em>Mapping</em> &ndash; gives mapping between roots of the IGES file and the resulting OCCT shape per IGES and OCCT type.</li>
</ul>
<h2><a class="anchor" id="occt_iges_2_4"></a>
Mapping of IGES  entities to Open CASCADE Technology shapes</h2>
<p><em>NOTE</em> that IGES entity types that are not given in the following tables are not translatable.</p>
<h3><a class="anchor" id="occt_iges_2_4_1"></a>
Points</h3>
<table class="doxtable">
<tr>
<th align="left">IGES entity type </th><th align="left">CASCADE shape </th><th>Comments  </th></tr>
<tr>
<td align="left">116: Point </td><td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___vertex.html">TopoDS_Vertex</a> </td><td></td></tr>
</table>
<h3><a class="anchor" id="occt_iges_2_4_2"></a>
Curves</h3>
<p>Curves, which form the 2D of face boundaries, are translated as <em>Geom2D_Curves</em> (Geom2D circles, etc.).</p>
<table class="doxtable">
<tr>
<th align="left">IGES entity type </th><th align="left">CASCADE shape </th><th align="left">Comments  </th></tr>
<tr>
<td align="left">100: Circular Arc </td><td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___edge.html">TopoDS_Edge</a> </td><td align="left">The geometrical support is a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___circle.html">Geom_Circle</a></em> or a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___trimmed_curve.html">Geom_TrimmedCurve</a></em> (if the arc is not closed). </td></tr>
<tr>
<td align="left">102: Composite Curve </td><td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___wire.html">TopoDS_Wire</a> </td><td align="left">The resulting shape is always a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___wire.html">TopoDS_Wire</a></em> that is built from a set of <em>TopoDS_Edges</em>. Each <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___edge.html">TopoDS_Edge</a></em> is connected to the preceding and to the following edge by a common <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___vertex.html">TopoDS_Vertex</a></em>. </td></tr>
<tr>
<td align="left">104: Conic Arc </td><td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___edge.html">TopoDS_Edge</a> </td><td align="left">The geometric support depends on whether the IGES entity's form is 0 (<em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___circle.html">Geom_Circle</a></em>), 1 (<em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___ellipse.html">Geom_Ellipse</a></em>), 2 (<em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___hyperbola.html">Geom_Hyperbola</a></em>), or 3 (<em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___parabola.html">Geom_Parabola</a></em>). A <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___trimmed_curve.html">Geom_TrimmedCurve</a></em> is output if the arc is not closed. </td></tr>
<tr>
<td align="left">106: Copious Data </td><td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___edge.html">TopoDS_Edge</a> or <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___wire.html">TopoDS_Wire</a> </td><td align="left">IGES entity Copious Data (type 106, forms 1-3) is translated just as the IGES entities Linear Path (106/11-13) and the Simple Closed Planar Curve (106/63). Vectors applying to forms other than 11,12 or 63 are ignored. The <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___b_spline_curve.html">Geom_BSplineCurve</a></em> (geometrical support) has C0 continuity. If the Copious Data has vectors (DataType = 3) they will be ignored. </td></tr>
<tr>
<td align="left">110: Line </td><td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___edge.html">TopoDS_Edge</a> </td><td align="left">The supporting curve is a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___trimmed_curve.html">Geom_TrimmedCurve</a></em> whose basis curve is a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___line.html">Geom_Line</a></em>. </td></tr>
<tr>
<td align="left">112: Parametric Spline Curve </td><td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___edge.html">TopoDS_Edge</a> or <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___wire.html">TopoDS_Wire</a> </td><td align="left">The geometric support is a Geom_BsplineCurve. </td></tr>
<tr>
<td align="left">126: BSpline Curve </td><td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___edge.html">TopoDS_Edge</a> or <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___wire.html">TopoDS_Wire</a> </td><td align="left"></td></tr>
<tr>
<td align="left">130: Offset Curve </td><td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___edge.html">TopoDS_Edge</a> or <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___wire.html">TopoDS_Wire</a> </td><td align="left">The resulting shape is a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___edge.html">TopoDS_Edge</a></em> or a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___wire.html">TopoDS_Wire</a></em> (depending on the translation of the basis curve) whose geometrical support is a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___offset_curve.html">Geom_OffsetCurve</a></em> built from a basis <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___curve.html">Geom_Curve</a></em>. Limitation: The IGES Offset Type value must be 1. </td></tr>
<tr>
<td align="left">141: Boundary </td><td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___wire.html">TopoDS_Wire</a> </td><td align="left">Same behavior as for the Curve On Surface (see below). The translation of a non-referenced Boundary IGES entity in a <em>BoundedSurface</em> IGES entity outputs a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___edge.html">TopoDS_Edge</a></em> or a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___wire.html">TopoDS_Wire</a></em> with a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___curve.html">Geom_Curve</a></em>. </td></tr>
<tr>
<td align="left">142: Curve On Surface </td><td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___wire.html">TopoDS_Wire</a> </td><td align="left">Each <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___edge.html">TopoDS_Edge</a></em> is defined by a 3D curve and by a 2D curve that references the surface. </td></tr>
</table>
<p>The type of OCCT shapes (either <em>TopDS_Edges</em> or <em>TopoDS_Wires</em>) that result from the translation of IGES entities 106, 112 and 126 depends on the continuity of the curve in the IGES file and the value of the <em>read.iges.bspline.continuity</em> translation parameter.</p>
<h3><a class="anchor" id="occt_iges_2_4_3"></a>
Surfaces</h3>
<p>Translation of a surface outputs either a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___face.html">TopoDS_Face</a></em> or a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___shell.html">TopoDS_Shell</a></em>. If a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___face.html">TopoDS_Face</a></em> is output, its geometrical support is a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___surface.html">Geom_Surface</a></em> and its outer and inner boundaries (if it has any) are <em>TopoDS_Wires</em>.</p>
<table class="doxtable">
<tr>
<th align="left">IGES entity type </th><th align="left">CASCADE shape </th><th align="left">Comments  </th></tr>
<tr>
<td align="left">108: Plane </td><td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___face.html">TopoDS_Face</a> </td><td align="left">The geometrical support for the <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___face.html">TopoDS_Face</a></em> is a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___plane.html">Geom_Plane</a></em> and the orientation of its <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___wire.html">TopoDS_Wire</a></em> depends on whether it is an outer <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___wire.html">TopoDS_Wire</a></em> or whether it is a hole. </td></tr>
<tr>
<td align="left">114: Parametric Spline Surface </td><td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___face.html">TopoDS_Face</a> </td><td align="left">The geometrical support of a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___face.html">TopoDS_Face</a></em> is a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___b_spline_surface.html">Geom_BSplineSurface</a></em>. </td></tr>
<tr>
<td align="left">118: Ruled Surface </td><td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___face.html">TopoDS_Face</a> or <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___shell.html">TopoDS_Shell</a> </td><td align="left">The translation of a Ruled Surface outputs a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___face.html">TopoDS_Face</a></em> if the profile curves become <em>TopoDS_Edges</em>, or a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___shell.html">TopoDS_Shell</a></em> if the profile curves become <em>TopoDS_Wires</em>. Limitation: This translation cannot be completed when these two <em>TopoDS_Wires</em> are oriented in different directions. </td></tr>
<tr>
<td align="left">120: Surface Of Revolution </td><td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___face.html">TopoDS_Face</a> or <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___shell.html">TopoDS_Shell</a> </td><td align="left">The translation of a Surface Of Revolution outputs: a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___face.html">TopoDS_Face</a></em> if the generatrix becomes a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___edge.html">TopoDS_Edge</a></em>, a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___shell.html">TopoDS_Shell</a></em> if the generatrix becomes a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___wire.html">TopoDS_Wire</a></em>. The geometrical support may be: <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___cylindrical_surface.html">Geom_CylindricalSurface</a>, <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___conical_surface.html">Geom_ConicalSurface</a>, <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___spherical_surface.html">Geom_SphericalSurface</a>, <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___toroidal_surface.html">Geom_ToroidalSurface</a></em> or a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___surface_of_revolution.html">Geom_SurfaceOfRevolution</a></em> depending on the result of the CASCADE computation (based on the generatrix type). </td></tr>
<tr>
<td align="left">122: Tabulated Cylinder </td><td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___face.html">TopoDS_Face</a> or <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___shell.html">TopoDS_Shell</a> </td><td align="left">The translation outputs a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___face.html">TopoDS_Face</a></em> if the base becomes a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___edge.html">TopoDS_Edge</a></em> or a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___shell.html">TopoDS_Shell</a></em> if the base becomes a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___wire.html">TopoDS_Wire</a></em>. The geometrical support may be <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___plane.html">Geom_Plane</a>, Geom_Cylindrical Surface</em> or a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___surface_of_linear_extrusion.html">Geom_SurfaceOfLinearExtrusion</a></em> depending on the result of the CASCADE computation (based on the generatrix type). The <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___surface.html">Geom_Surface</a></em> geometrical support is limited according to the generatrix. </td></tr>
<tr>
<td align="left">128: BSpline Surface </td><td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___face.html">TopoDS_Face</a> </td><td align="left">The geometrical support of the <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___face.html">TopoDS_Face</a></em> is a <em>Geom_BsplineSurface</em>. </td></tr>
<tr>
<td align="left">140: Offset Surface </td><td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___face.html">TopoDS_Face</a> </td><td align="left">The translation of an Offset Surface outputs a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___face.html">TopoDS_Face</a></em> whose geometrical support is a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___offset_surface.html">Geom_OffsetSurface</a></em>. Limitations: For OCCT algorithms, the original surface must be C1-continuous so that the <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___offset_surface.html">Geom_OffsetSurface</a></em> can be created. If the basis surface is not C1-continuous, its translation outputs a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___shell.html">TopoDS_Shell</a></em> and only the first <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___face.html">TopoDS_Face</a></em> in the <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___shell.html">TopoDS_Shell</a></em> is offset. </td></tr>
<tr>
<td align="left">143: Bounded Surface </td><td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___face.html">TopoDS_Face</a> or <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___shell.html">TopoDS_Shell</a> </td><td align="left">If the basis surface outputs a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___shell.html">TopoDS_Shell</a></em> (that has more than one <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___face.html">TopoDS_Face</a></em>), the IGES boundaries are not translated. Limitations: If the bounding curves define holes, natural bounds are not created. If the orientation of the contours is wrong, it is not corrected. </td></tr>
<tr>
<td align="left">144: Trimmed Surface </td><td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___face.html">TopoDS_Face</a> or <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___shell.html">TopoDS_Shell</a> </td><td align="left">For the needs of interface processing, the basis surface must be a face. Shells are only processed if they are single-face. The contours (wires that are correctly oriented according to the definition of the IGES 142: Curve On Surface entity) are added to the face that is already created. If the orientation of the contours is wrong, it is corrected. </td></tr>
<tr>
<td align="left">190: Plane Surface </td><td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___face.html">TopoDS_Face</a> </td><td align="left">This type of IGES entity can only be used in BRep entities in place of an IGES 108 type entity. The geometrical support of the face is a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___plane.html">Geom_Plane</a></em>. </td></tr>
</table>
<h3><a class="anchor" id="occt_iges_2_4_4"></a>
Boundary Representation  Solid Entities</h3>
<table class="doxtable">
<tr>
<th align="left">IGES entity type </th><th align="left">CASCADE shape </th><th align="left">Comments  </th></tr>
<tr>
<td align="left">186: ManifoldSolid </td><td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___solid.html">TopoDS_Solid</a> </td><td align="left"></td></tr>
<tr>
<td align="left">514: Shell </td><td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___shell.html">TopoDS_Shell</a> </td><td align="left"></td></tr>
<tr>
<td align="left">510: Face </td><td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___face.html">TopoDS_Face</a> </td><td align="left">This is the lowest IGES entity in the BRep structure that can be specified as a starting point for translation. </td></tr>
<tr>
<td align="left">508: Loop </td><td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___wire.html">TopoDS_Wire</a> </td><td align="left"></td></tr>
<tr>
<td align="left">504: Edge List </td><td align="left"></td><td align="left"></td></tr>
<tr>
<td align="left">502: Vertex List </td><td align="left"></td><td align="left"></td></tr>
</table>
<h3><a class="anchor" id="occt_iges_2_4_5"></a>
Structure Entities</h3>
<table class="doxtable">
<tr>
<th align="left">IGES entity type </th><th align="left">CASCADE shape </th><th align="left">Comments  </th></tr>
<tr>
<td align="left">402/1: Associativity Instance: Group with back pointers </td><td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___compound.html">TopoDS_Compound</a> </td><td align="left"></td></tr>
<tr>
<td align="left">402/7: Associativity Instance: Group without back pointers </td><td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___compound.html">TopoDS_Compound</a> </td><td align="left"></td></tr>
<tr>
<td align="left">402/9: Associativity Instance: Single Parent </td><td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___face.html">TopoDS_Face</a> </td><td align="left">The translation of a <em>SingleParent</em> entity is only performed for 402 form 9 with entities 108/1 and 108/-1. The geometrical support for the <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___face.html">TopoDS_Face</a></em> is a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___plane.html">Geom_Plane</a></em> with boundaries: the parent plane defines the outer boundary; the child planes define the inner boundaries. </td></tr>
</table>
<h3><a class="anchor" id="occt_iges_2_4_6"></a>
Subfigures</h3>
<table class="doxtable">
<tr>
<th align="left">IGES entity type </th><th align="left">CASCADE shape </th><th align="left">Comments  </th></tr>
<tr>
<td align="left">308: Subfigure Definition </td><td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___compound.html">TopoDS_Compound</a> </td><td align="left">This IGES entity is only translated when there are no Singular Subfigure Instance entities. </td></tr>
<tr>
<td align="left">408: Singular Subfigure Instance </td><td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___compound.html">TopoDS_Compound</a> </td><td align="left">This shape has the Subfigure Definition Compound as its origin and is positioned in space by its translation vector and its scale factor. </td></tr>
</table>
<h3><a class="anchor" id="occt_iges_2_4_7"></a>
Transformation Matrix</h3>
<table class="doxtable">
<tr>
<th align="left">IGES entity type </th><th align="left">CASCADE shape </th><th align="left">Comments  </th></tr>
<tr>
<td align="left">124: Transformation Matrix </td><td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___transformation.html">Geom_Transformation</a> </td><td align="left">This entity is never translated alone. It must be included in the definition of another entity. </td></tr>
</table>
<h2><a class="anchor" id="occt_iges_2_5"></a>
Messages</h2>
<p>Messages are displayed concerning the normal functioning of the processor (transfer, loading, etc.). You must declare an include file: </p><div class="fragment"><div class="line">#include &lt;Interface_DT.hxx&gt; </div></div><!-- fragment --><p>You have the choice of the following options for messages: </p><div class="fragment"><div class="line">IDT_SetLevel (level); </div></div><!-- fragment --><p> level modifies the level of messages:</p><ul>
<li>0: no messages</li>
<li>1: raise and fail messages are displayed, as are messages concerning file access,</li>
<li>2: warnings are also displayed. <div class="fragment"><div class="line">IDT_SetFile (“tracefile.log”); </div></div><!-- fragment --> prints the messages in a file, <div class="fragment"><div class="line">IDT_SetStandard(); </div></div><!-- fragment --> restores screen output.</li>
</ul>
<h2><a class="anchor" id="occt_iges_2_6"></a>
Tolerance management</h2>
<h3><a class="anchor" id="occt_iges_2_6_1"></a>
Values used for tolerances during reading IGES</h3>
<p>During the transfer of IGES to Open CASCADE Technology several parameters are used as tolerances and precisions for different algorithms. Some of them are computed from other using specific functions.</p>
<h4>3D (spatial) tolerances</h4>
<ul>
<li>Package method <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_precision.html">Precision</a>::Confusion</em> equal to 10<sup>-7</sup> is used as a minimal distance between points, which are considered distinct.</li>
<li>Resolution in the IGES file is defined in the Global section of an IGES file. It is used as a fundamental value of precision during the transfer.</li>
<li>User-defined variable <em>read.precision.val</em> can be used instead of resolution from the file when parameter <em>read.precision.mode</em> is set to 1 ("User").</li>
<li>Field <em>EpsGeom</em> of the class <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___curve_and_surface.html">IGESToBRep_CurveAndSurface</a></em> is a basic precision for translating an IGES object. It is set for each object of class <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___curve_and_surface.html">IGESToBRep_CurveAndSurface</a></em> and its derived classes. It is initialized for the root of transfer either by value of resolution from the file or by value of <em>read.precision.val</em>, depending on the value of <em>read.precision.mode</em> parameter. It is returned by call to method <em>IGESToBRep_CurvAndSurface::GetEpsGeom</em>. As this value belongs to measurement units of the IGES file, it is usually multiplied by the coefficient <em>UnitFactor</em> (returned by method <em>IGESToBRep_CurvAndSurface::GetUnitFactor</em>) to convert it to Open CASCADE Technology units.</li>
<li>Field <em>MaxTol</em> of the class <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___curve_and_surface.html">IGESToBRep_CurveAndSurface</a></em> is used as the maximum tolerance for some algorithms. Currently, it is computed as the maximum between 1 and <em>GetEpsGeom</em> * <em>GetUnitFactor</em>. This field is returned by method <em>IGESToBRep_CurvAndSurface::GetMaxTol</em>.</li>
</ul>
<h4>2D (parametric) tolerances</h4>
<ul>
<li>Package method <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_precision.html">Precision</a>::PConfusion</em> equal to <em> 0.01*Precision::Confusion</em>, i.e. 10<sup>-9</sup>. It is used to compare parametric bounds of curves.</li>
<li>Field <em>EpsCoeff</em> of the class <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___curve_and_surface.html">IGESToBRep_CurveAndSurface</a></em> is a parametric precision for translating an IGES object. It is set for each object of class <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___curve_and_surface.html">IGESToBRep_CurveAndSurface</a></em> and its derived classes. Currently, it always has its default value 10<sup>-6</sup>. It is returned by call to method <em>IGESToBRep_CurvAndSurface::GetEpsCoeff</em>. This value is used for translating 2d objects (for instance, parametric curves).</li>
<li>Methods <em>UResolution(tolerance3d)</em> and <em>VResolution(tolerance3d)</em> of the class <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom_adaptor___surface.html">GeomAdaptor_Surface</a></em> or <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_b_rep_adaptor___surface.html">BRepAdaptor_Surface</a></em> return tolerance in parametric space of a surface computed from 3D tolerance. When one tolerance value is to be used for both U and V parametric directions, the maximum or the minimum value of <em>UResolution</em> and <em>VResolution</em> is used.</li>
<li>Methods <em>Resolution(tolerance3d)</em> of the class <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom_adaptor___curve.html">GeomAdaptor_Curve</a></em> or <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_b_rep_adaptor___curve.html">BRepAdaptor_Curve</a></em> return tolerance in the parametric space of a curve computed from 3d tolerance.</li>
</ul>
<h4>Zero-dimensional tolerances</h4>
<ul>
<li>Field <em>Epsilon</em> of the class <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___curve_and_surface.html">IGESToBRep_CurveAndSurface</a></em> is set for each object of class <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___curve_and_surface.html">IGESToBRep_CurveAndSurface</a></em> and returned by call to method <em>GetEpsilon</em>. It is used in comparing angles and converting transformation matrices. In most cases, it is reset to a fixed value (10<sup>-5</sup> - 10<sup>-3</sup>) right before use. The default value is 10<sup>-4</sup>.</li>
</ul>
<h3><a class="anchor" id="occt_iges_2_6_2"></a>
Initial setting of tolerances in translating  objects</h3>
<p>Transfer starts from one entity treated as a root (either the actual root in the IGES file or an entity selected by the user). The function which performs the transfer (that is <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___actor.html#a71e56358bbdc9ae7acf3e1396ca41f79">IGESToBRep_Actor::Transfer</a></em> or <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___reader.html#adc634427c1acc57eee907bf9db398c88">IGESToBRep_Reader::Transfer</a></em>) creates an object of the type <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___curve_and_surface.html">IGESToBRep_CurveAndSurface</a></em>, which is intended for translating geometry.</p>
<p>This object contains three tolerances: <em>Epsilon, EpsGeom</em> and <em>EpsCoeff</em>.</p>
<p>Parameter <em>Epsilon</em> is set by default to value 10<sup>-4</sup>. In most cases when it is used in the package <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep.html">IGESToBRep</a></em>, it is reset to a fixed value, either 10<sup>-5</sup> or 10<sup>-4</sup> or 10<sup>-3</sup>. It is used as precision when comparing angles and transformation matrices and does not have influence on the tolerance of the resulting shape.</p>
<p>Parameter <em>EpsGeom</em> is set right after creating a <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___curve_and_surface.html">IGESToBRep_CurveAndSurface</a></em> object to the value of resolution, taken either from the Global section of an IGES file, or from the <em>XSTEP.readprecision.val</em> parameter, depending on the value of <em>XSTEP.readprecision.mode</em>.</p>
<p>Parameter <em>EpsCoeff</em> is set by default to 10<sup>-6</sup> and is not changed.</p>
<p>During the transfer of a shape, new objects of type <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___curve_and_surface.html">IGESToBRep_CurveAndSurface</a></em> are created for translating subshapes. All of them have the same tolerances as the root object.</p>
<h3><a class="anchor" id="occt_iges_2_6_3"></a>
Transfer process</h3>
<h4>Translating into Geometry</h4>
<p>Geometrical entities are translated by classes <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___basic_curve.html">IGESToBRep_BasicCurve</a></em> and <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___basic_surface.html">IGESToBRep_BasicSurface</a></em>. Methods of these classes convert curves and surfaces of an IGES file to Open CASCADE Technology geometry objects: <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___curve.html">Geom_Curve</a>, <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___surface.html">Geom_Surface</a>,</em> and <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___transformation.html">Geom_Transformation</a></em>.</p>
<p>Since these objects are not BRep objects, they do not have tolerances. Hence, tolerance parameters are used in these classes only as precisions: to detect specific cases (e.g., to distinguish a circle, an ellipse, a parabola and a hyperbola) and to detect bad cases (such as coincident points).</p>
<p>Use of precision parameters is reflected in the following classes:</p><ul>
<li><em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___basic_curve.html">IGESToBRep_BasicCurve</a></em> &ndash; all parameters and points are compared with precision <em>EpsGeom</em>. All transformations (except <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___basic_curve.html#aed2970d0dc559dbe9d837fe5a17a71ff">IGESToBRep_BasicCurve::TransferTransformation</a></em>) are fulfilled with precision <em>Epsilon</em> which is set to 10<sup>-3</sup> (in the <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___basic_curve.html#aed2970d0dc559dbe9d837fe5a17a71ff">IGESToBRep_BasicCurve::TransferTransformation</a></em> the value 10<sup>-5</sup> is used).</li>
<li><em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___basic_curve.html#aec6585063364f8138b2ab158a4b9eb0c">IGESToBRep_BasicCurve::TransferBSplineCurve</a></em> &ndash; all weights of <em>BSplineCurve</em> are assumed to be more than <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_precision.html#a358a8cdc2a1d4a8169b53f717002023d">Precision::PConfusion</a></em> (else the curve is not translated).</li>
<li><em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___basic_surface.html">IGESToBRep_BasicSurface</a></em> &ndash; all parameters and points are compared with precision <em>EpsGeom</em>. All transformations are fulfilled with precision <em>Epsilon</em>, which is set to 10<sup>-3</sup>.</li>
<li><em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___basic_surface.html#aeff2995ba7a075a99b3d46178f539d61">IGESToBRep_BasicSurface::TransferBSplineSurface</a></em> &ndash; all weights of <em>BSplineSurface</em> are assumed to be more than <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_precision.html#a358a8cdc2a1d4a8169b53f717002023d">Precision::PConfusion</a></em> (else the surface is not translated).</li>
</ul>
<h4>Translating into Topology</h4>
<p>IGES entities represented as topological shapes and geometrical objects are translated into OCCT shapes by use of the classes <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___topo_curve.html">IGESToBRep_TopoCurve</a>, <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___topo_surface.html">IGESToBRep_TopoSurface</a>, <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___b_rep_entity.html">IGESToBRep_BRepEntity</a></em> and <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_shape_fix___wire.html">ShapeFix_Wire</a></em>.</p>
<p>Class <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___b_rep_entity.html">IGESToBRep_BRepEntity</a></em> is intended for transferring BRep entities (IGES version is 5.1 or greater) while the two former are used for translating geometry and topology defined in IGES versions prior to 5.1. Methods from <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___b_rep_entity.html">IGESToBRep_BRepEntity</a></em> call methods from <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___topo_curve.html">IGESToBRep_TopoCurve</a></em> and <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___topo_surface.html">IGESToBRep_TopoSurface</a></em>, while those call methods from <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___basic_curve.html">IGESToBRep_BasicCurve</a></em> and <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___basic_surface.html">IGESToBRep_BasicSurface</a></em> to translate IGES geometry into OCCT geometry.</p>
<p>Although the IGES file contains only one parameter for tolerance in the Global Section, OCCT shapes are produced with different tolerances. As a rule, updating the tolerance is fulfilled according to local distances between shapes (distance between vertices of adjacent edges, deviation of edge’s 3D curve and its parametric curve and so on) and may be less or greater than precision in the file.</p>
<p>The following classes show what default tolerances are used when creating shapes and how they are updated during transfer.</p>
<h5>Class <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___topo_curve.html">IGESToBRep_TopoCurve</a></h5>
<p>All methods are in charge of transferring curves from IGES curve entities <em>(TransferCompositeCurve, Transfer2dCompositeCurve, TransferCurveOnFace, TransferBoundaryOnFace, TransferOffsetCurve, TransferTopoBasicCurve)</em> if an entity has transformation call to <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_data___tool_location.html#aa9b4e42a631c1e2a9b46e122c9ce7d2c">IGESData_ToolLocation::ConvertLocation</a></em> with <em>Epsilon</em> value set to 10<sup>-4</sup>.</p><ul>
<li><em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___topo_curve.html#afe8806b0ef233153a3c1a046e3522ee1">IGESToBRep_TopoCurve::TransferPoint</a></em> &ndash; vertex is constructed from a Point entity with tolerance <em>EpsGeom*UnitFactor</em>.</li>
<li><em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___topo_curve.html#aad7c9d71b98fb3878a1d8c57ab353d44">IGESToBRep_TopoCurve::Transfer2dPoint</a></em> &ndash; vertex is constructed from a Point entity with tolerance <em>EpsCoeff</em>.</li>
<li><em>IGESToBRep_TopoCurve::TransferCompositeCurveGeneral</em> &ndash; obtains shapes (edges or wires) from other methods and adds them into the resulting wire. Two adjacent edges of the wire can be connected with tolerance up to <em>MaxTol</em>.</li>
<li><em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___topo_curve.html#acf5a5a256a7d36853da618568b2b8d9c">IGESToBRep_TopoCurve::TransferCurveOnFace</a></em> and <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___topo_curve.html#a6ac3c0a17102a1074c9e10838681aac7">IGESToBRep_TopoCurve::TransferBoundaryOnFace</a></em> build a wire from 3D and 2D representations of a curve on surface. Edges and vertices of the wire cannot have tolerance larger than <em>MaxTol</em>. The value <em>EpsGeom*UnitFactor</em> is passed into <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_shape_fix___wire.html#a1fe5e20c7795bf57f87324451eded1c4">ShapeFix_Wire::SetPrecision</a></em> and <em>MaxTol</em> is passed into <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_shape_fix___root.html#a92df1b4a13b7ea4a8b22d2bc77f21ffd">ShapeFix_Wire::MaxTolerance</a></em>. To find out how these parameters affect the resulting tolerance changes, please, refer to class <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_shape_fix___wire.html">ShapeFix_Wire</a></em>.</li>
<li><em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___topo_curve.html#a2b6dc2259a40a3112b5ce422db2bae9b">IGESToBRep_TopoCurve::TransferTopoBasicCurve</a></em> and <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___topo_curve.html#a834debbf3697f3c92a8169d2f0f9ab8a">IGESToBRep_TopoCurve::Transfer2dTopoBasicCurve</a></em> &ndash; the boundary vertices of an edge (or a wire if a curve was of C0 continuity) translated from a basis IGES curve (<em>BSplineCurve, CopiousData, Line,</em> etc.) are built with tolerance <em>EpsGeom*UnitFactor</em>, the edge tolerance is <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_precision.html#a94f8d5777a3e8e1c61bd7bbfa8dfc0eb">Precision::Confusion</a></em>. If a curve was divided into several edges, the common vertices of such adjacent edges have tolerance <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_precision.html#a94f8d5777a3e8e1c61bd7bbfa8dfc0eb">Precision::Confusion</a></em>.</li>
</ul>
<h5>Class <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___topo_surface.html">IGESToBRep_TopoSurface</a></h5>
<p>All faces created by this class have tolerance <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_precision.html#a94f8d5777a3e8e1c61bd7bbfa8dfc0eb">Precision::Confusion</a></em>.</p>
<h5>Class <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___b_rep_entity.html">IGESToBRep_BRepEntity</a></h5>
<ul>
<li><em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___b_rep_entity.html#ab4380e66aef020128051f4f53eef9268">IGESToBRep_BRepEntity::TransferVertex</a></em> &ndash; the vertices from the <em>VertexList</em> entity are constructed with tolerance <em>EpsGeom*UnitFactor</em>.</li>
<li><em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___b_rep_entity.html#a9e523c654d76900e0479885024bed3aa">IGESToBRep_BRepEntity::TransferEdge</a></em> &ndash; the edges from the <em>EdgeList</em> entity are constructed with tolerance <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_precision.html#a94f8d5777a3e8e1c61bd7bbfa8dfc0eb">Precision::Confusion</a></em>.</li>
<li><em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___b_rep_entity.html#a84b4d5994ae4a658dbec137e96374af1">IGESToBRep_BRepEntity::TransferLoop</a></em> &ndash; this function works like <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___topo_curve.html#acf5a5a256a7d36853da618568b2b8d9c">IGESToBRep_TopoCurve::TransferCurveOnFace</a></em> and <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___topo_curve.html#a6ac3c0a17102a1074c9e10838681aac7">IGESToBRep_TopoCurve::TransferBoundaryOnFace</a></em>.</li>
<li><em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___b_rep_entity.html#adf494c163123245876f1508db661855e">IGESToBRep_BRepEntity::TransferFace</a></em> &ndash; the face from the <em>Face</em> IGES entity is constructed with tolerance <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_precision.html#a94f8d5777a3e8e1c61bd7bbfa8dfc0eb">Precision::Confusion</a></em>.</li>
</ul>
<h5>Shape Healing classes</h5>
<p>After performing a simple mapping, shape-healing algorithms are called (class <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_shape_fix___shape.html">ShapeFix_Shape</a></em>) by <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___actor.html#a71e56358bbdc9ae7acf3e1396ca41f79">IGESToBRep_Actor::Transfer()</a></em>. Shape-healing algorithm performs the correction of the resulting OCCT shape. Class <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_shape_fix___wire.html">ShapeFix_Wire</a></em> can increase the tolerance of a shape. This class is used in <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___b_rep_entity.html#a84b4d5994ae4a658dbec137e96374af1">IGESToBRep_BRepEntity::TransferLoop</a></em>, <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___topo_curve.html#a6ac3c0a17102a1074c9e10838681aac7">IGESToBRep_TopoCurve::TransferBoundaryOnFace</a></em> and <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_to_b_rep___topo_curve.html#acf5a5a256a7d36853da618568b2b8d9c">IGESToBRep_TopoCurve::TransferCurveOnFace</a></em> for correcting a wire. The maximum possible tolerance applied to the edges or vertices after invoking the methods of this class is <em>MaxTolerance</em> (set by method <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_shape_fix___root.html#a92df1b4a13b7ea4a8b22d2bc77f21ffd">ShapeFix_Wire::MaxTolerance()</a></em> ).</p>
<h2><a class="anchor" id="occt_iges_2_7"></a>
Code architecture</h2>
<p>The following diagram illustrates the structure of calls in reading IGES. The highlighted classes produce OCCT geometry.</p>
<div class="image">
<img src="iges_image003.png" alt="iges_image003.png"/>
<div class="caption">
The structure of calls in reading IGES</div></div>
<h2><a class="anchor" id="occt_iges_2_8"></a>
Example</h2>
<div class="fragment"><div class="line">#include “IGESControl_Reader.hxx” </div><div class="line">#include “TColStd_HSequenceOfTransient.hxx” </div><div class="line">#include “TopoDS_Shape.hxx” </div><div class="line">{ </div><div class="line">IGESControl_Reader myIgesReader; </div><div class="line">Standard_Integer nIgesFaces,nTransFaces; </div><div class="line"></div><div class="line">myIgesReader.ReadFile (“MyFile.igs”); </div><div class="line">//loads file MyFile.igs </div><div class="line"></div><div class="line">Handle(TColStd_HSequenceOfTransient) myList =  myIgesReader.GiveList(“iges-faces”); </div><div class="line">//selects all IGES faces in the file and puts them into a list  called //MyList, </div><div class="line"></div><div class="line">nIgesFaces = myList-Length();  </div><div class="line">nTransFaces = myIgesReader.TransferList(myList); </div><div class="line">//translates MyList, </div><div class="line"></div><div class="line">cout&lt;&lt;&quot;IGES Faces: &quot;&lt;&lt;nIgesFaces&lt;&lt;&quot;   Transferred:&quot;&lt;&lt;nTransFaces&lt;&lt;endl; </div><div class="line">TopoDS_Shape sh = myIgesReader.OneShape(); </div><div class="line">//and obtains the results in an OCCT shape. </div><div class="line">} </div></div><!-- fragment --><h1><a class="anchor" id="occt_iges_3"></a>
Writing IGES</h1>
<h2><a class="anchor" id="occt_iges_3_1"></a>
Procedure</h2>
<p>You can translate OCCT shapes to IGES entities in the following steps:</p><ol type="1">
<li>Initialize the process.</li>
<li>Set the translation parameters,</li>
<li>Perform the model translation,</li>
<li>Write the output IGES file.</li>
</ol>
<p>You can translate several shapes before writing a file. Each shape will be a root entity in the IGES model.</p>
<h2><a class="anchor" id="occt_iges_3_2"></a>
Domain covered</h2>
<p>There are two families of OCCT objects that can be translated:</p><ul>
<li>geometrical,</li>
<li>topological.</li>
</ul>
<h2><a class="anchor" id="occt_iges_3_3"></a>
Description of the process</h2>
<h3><a class="anchor" id="occt_iges_3_3_1"></a>
Initializing the process</h3>
<p>Choose the unit and the mode you want to use to write the output file as follows:</p><ul>
<li><em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_control___controller.html#a9eeb09cef140cf3c5c73ffcfe6ad9baf">IGESControl_Controller::Init</a></em> performs standard initialization. Returns False if an error occurred.</li>
<li><em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_control___writer.html">IGESControl_Writer</a> writer</em> uses the default unit (millimeters) and the default write mode (Face).</li>
<li><em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_control___writer.html">IGESControl_Writer</a> writer (UNIT)</em> uses the Face write mode and any of the units that are accepted by IGES.</li>
<li><em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_control___writer.html">IGESControl_Writer</a> writer (UNIT,modecr)</em> uses the unit (accepted by IGES) and the write mode of your choice.<ul>
<li>0: Faces,</li>
<li>1: BRep The result is an <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_i_g_e_s_control___writer.html">IGESControl_Writer</a></em> object.</li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="occt_iges_3_3_2"></a>
Setting the translation parameters</h3>
<p>The following parameters are used for the OCCT-to-IGES translation.</p>
<ul>
<li><em>write.iges.brep.mode:</em> allows choosing the write mode:<ul>
<li>"Faces" (0): OCCT <em>TopoDS_Faces</em> will be translated into IGES 144 (Trimmed Surface) entities, no BRep entities will be written to the IGES file,</li>
<li>"BRep" (1): OCCT <em>TopoDS_Faces</em> will be translated into IGES 510 (Face) entities, the IGES file will contain BRep entities. Read this parameter with: <div class="fragment"><div class="line">Standard_Integer byvalue =  Interface_Static::IVal(&quot;write.iges.brep.mode&quot;); </div></div><!-- fragment --> Modify this parameter with: <div class="fragment"><div class="line">Interface_Static::SetIVal  (&quot;write.iges.brep.mode&quot;, 1); </div></div><!-- fragment --> Default value is "Faces" (0).</li>
</ul>
</li>
<li><em>write.convertsurface.mode</em> when writing to IGES in the BRep mode, this parameter indicates whether elementary surfaces (cylindrical, conical, spherical, and toroidal) are converted into corresponding IGES 5.3 entities (if the value of a parameter value is On), or written as surfaces of revolution (by default).</li>
<li><em>write.iges.unit:</em> allows choosing the unit. The default unit for Open CASCADE Technology is "MM" (millimeter). You can choose to write a file into any unit accepted by IGES.<ul>
<li>Read this parameter with <em>Standard_String byvalue = <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_interface___static.html#af1187e3c04a8aa158d5b0ba2c2169ba4">Interface_Static::CVal</a>("write.iges.unit")</em>;</li>
<li>Modify this parameter with <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_interface___static.html#ad0c03631606ae512a6938b4685674613">Interface_Static::SetCVal</a> ("write.iges.unit", "INCH");</em></li>
</ul>
</li>
<li><em>write.iges.header.autor:</em> gives the name of the author of the file. The default value is the system name of the user.<ul>
<li>Read this parameter with <em>Standard_String byvalue = <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_interface___static.html#af1187e3c04a8aa158d5b0ba2c2169ba4">Interface_Static::CVal</a>("write.iges.header.author")</em>;</li>
<li>Modify this value with <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_interface___static.html#ad0c03631606ae512a6938b4685674613">Interface_Static::SetCVal</a> ("write.iges.header.author", "name")</em>;</li>
</ul>
</li>
<li><em>write.iges.header.company:</em> gives the name of the sending company. The default value is "" (empty).<ul>
<li>Read this parameter with <em>Standard_String byvalue = <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_interface___static.html#af1187e3c04a8aa158d5b0ba2c2169ba4">Interface_Static::CVal</a>("write.iges.header.company");</em></li>
<li>Modify this value with <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_interface___static.html#ad0c03631606ae512a6938b4685674613">Interface_Static::SetCVal</a> ("write.iges.header.company", "Open CASCADE");</em></li>
</ul>
</li>
<li><em>write.iges.header.product:</em> gives the name of the sending product. The default value is "CAS.CADE IGES processor Vx.x", where <em>x.x</em> means the current version of Open CASCADE Technology.<ul>
<li>Read this parameter with <em>Standard_String byvalue = <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_interface___static.html#af1187e3c04a8aa158d5b0ba2c2169ba4">Interface_Static::CVal</a>("write.iges.header.product")</em>;</li>
<li>Modify this value with <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_interface___static.html#ad0c03631606ae512a6938b4685674613">Interface_Static::SetCVal</a> ("write.iges.header.product", "product name")</em>;</li>
</ul>
</li>
<li><em>write.iges.header.receiver:</em> &ndash; gives the name of the receiving company. The default value is "" (empty).<ul>
<li>Read this parameter with <em>Standard_String byvalue = <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_interface___static.html#af1187e3c04a8aa158d5b0ba2c2169ba4">Interface_Static::CVal</a>("write.iges.header.receiver");</em></li>
<li>Modify this value with <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_interface___static.html#ad0c03631606ae512a6938b4685674613">Interface_Static::SetCVal</a> ("write.iges.header.receiver", "reciever name");</em></li>
</ul>
</li>
<li><em>write.precision.mode:</em> specifies the mode of writing the resolution value into the IGES file.<ul>
<li>"Least" (-1): resolution value is set to the minimum tolerance of all edges and all vertices in an OCCT shape.</li>
<li>"Average" (0): resolution value is set to average between the average tolerance of all edges and the average tolerance of all vertices in an OCCT shape. This is the default value.</li>
<li>"Greatest" (1): resolution value is set to the maximum tolerance of all edges and all vertices in an OCCT shape.</li>
<li>"Session" (2): resolution value is that of the write.precision.val parameter.</li>
<li>Read this parameter with <em>Standard_Integer ic = <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_interface___static.html#a06d4727e9a9484e8eb53d05216f84a65">Interface_Static::IVal</a>("write.precision.mode");</em></li>
<li>Modify this parameter with <em>if (!Interface_Static::SetIVal("write.precision.mode",1)) .. error .. </em></li>
</ul>
</li>
<li><em>write.precision.val:</em> is the user precision value. This parameter gives the resolution value for an IGES file when the <em>write.precision.mode</em> parameter value is 1. It is equal to 0.0001 by default, but can take any real positive (non null) value.</li>
</ul>
<p>Read this parameter with: </p><div class="fragment"><div class="line">Standard_Real rp =  Interface_Static::RVal(;write.precision.val;); </div></div><!-- fragment --><p> Modify this parameter with: </p><div class="fragment"><div class="line">if  (!Interface_Static::SetRVal(;write.precision.val;,0.01))  </div><div class="line">.. error .. </div></div><!-- fragment --><p> Default value is 0.0001.</p>
<h4>write.iges.resource.name</h4>
<p>and </p><h4>write.iges.sequence</h4>
<p>are the same as the corresponding read.iges.* parameters, please, see above. Note that the default sequence for writing contains <em>DirectFaces</em> operator, which converts elementary surfaces based on left-hand axes (valid in CASCADE) to right-hand axes (which are valid only in IGES).</p>
<p>Default values : </p><div class="fragment"><div class="line">write.iges.resource.name - IGES,</div><div class="line">write.iges.sequence - ToIGES. </div></div><!-- fragment --><h3><a class="anchor" id="occt_iges_3_3_3"></a>
Performing the Open  CASCADE Technology shape translation</h3>
<p>You can perform the translation in one or several operations. Here is how you translate topological and geometrical objects: </p><div class="fragment"><div class="line">Standard_Boolean ok =  writer.AddShape (TopoDS_Shape); </div></div><!-- fragment --><p> <em>ok</em> is True if translation was correctly performed and False if there was at least one entity that was not translated. </p><div class="fragment"><div class="line">Standard_Boolean ok =  writer.AddGeom (geom); </div></div><!-- fragment --><p> where <em>geom</em> is <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/_standard___handle_8hxx.html#a464f2f86d5d805f03f4e3c9beb007e40">Handle(Geom_Curve)</a></em> or <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/_standard___handle_8hxx.html#a464f2f86d5d805f03f4e3c9beb007e40">Handle(Geom_Surface)</a></em>; <em>ok</em> is True if the translation was correctly performed and False if there was at least one entity whose geometry was not among the allowed types.</p>
<h3><a class="anchor" id="occt_iges_3_3_4"></a>
Writing the IGES  file</h3>
<p>Write the IGES file with: </p><div class="fragment"><div class="line">Standard_Boolean ok =  writer.Write (&quot;filename.igs&quot;); </div></div><!-- fragment --><p> to give the file name. </p><div class="fragment"><div class="line">Standard_Boolean ok =  writer.Write (S); </div></div><!-- fragment --><p> where <em>S</em> is <em>Standard_OStream</em> <em>ok</em> is True if the operation was correctly performed and False if an error occurred (for instance, if the processor could not create the file).</p>
<h2><a class="anchor" id="occt_iges_3_4"></a>
Mapping Open CASCADE  Technology shapes to IGES entities</h2>
<p>Translated objects depend on the write mode that you chose. If you chose the Face mode, all of the shapes are translated, but the level of topological entities becomes lower (geometrical one). If you chose the BRep mode, topological OCCT shapes become topological IGES entities.</p>
<h3><a class="anchor" id="occt_iges_3_4_1"></a>
Curves</h3>
<table class="doxtable">
<tr>
<th align="left">CASCADE shape </th><th align="left">IGES entity type </th><th align="left">Comments  </th></tr>
<tr>
<td align="left">Geom_BsplineCurve </td><td align="left">126: BSpline Curve </td><td align="left"></td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___bezier_curve.html">Geom_BezierCurve</a> </td><td align="left">126: BSpline Curve </td><td align="left"></td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___trimmed_curve.html">Geom_TrimmedCurve</a> </td><td align="left">All types of translatable IGES curves </td><td align="left">The type of entity output depends on the type of the basis curve. If the curve is not trimmed, limiting points will be defined by the CASCADE RealLast value. </td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___circle.html">Geom_Circle</a> </td><td align="left">100: Circular Arc or 126: BSpline Curve </td><td align="left">A BSpline Curve is output if the <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___circle.html">Geom_Circle</a></em> is closed </td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___ellipse.html">Geom_Ellipse</a> </td><td align="left">104: Conic Arc or 126: BSpline Curve </td><td align="left">A Conic Arc has Form 1. A BSpline Curve is output if the <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___ellipse.html">Geom_Ellipse</a></em> is closed. </td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___hyperbola.html">Geom_Hyperbola</a> </td><td align="left">104: Conic Arc </td><td align="left">Form 2 </td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___parabola.html">Geom_Parabola</a> </td><td align="left">104: Conic Arc </td><td align="left">Form 3 </td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___line.html">Geom_Line</a> </td><td align="left">110: Line </td><td align="left"></td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___offset_curve.html">Geom_OffsetCurve</a> </td><td align="left">130: Offset Curve </td><td align="left"></td></tr>
</table>
<h3><a class="anchor" id="occt_iges_3_4_2"></a>
Surfaces</h3>
<table class="doxtable">
<tr>
<th align="left">CASCADE shapes </th><th align="left">IGES entity type </th><th align="left">Comments  </th></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___b_spline_surface.html">Geom_BSplineSurface</a> </td><td align="left">128: BSpline Surface </td><td align="left"></td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___bezier_surface.html">Geom_BezierSurface</a> </td><td align="left">128: BSpline Surface </td><td align="left"></td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___rectangular_trimmed_surface.html">Geom_RectangularTrimmedSurface</a> </td><td align="left">All types of translatable IGES surfaces. </td><td align="left">The type of entity output depends on the type of the basis surface. If the surface is not trimmed and has infinite edges/sides, the coordinates of the sides in IGES will be limited to the CASCADE <em>RealLast</em> value. </td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___plane.html">Geom_Plane</a> </td><td align="left">128: BSpline Surface or 190: Plane Surface </td><td align="left">A BSpline Surface (of degree 1 in U and V) is output if you are working in the face mode. A Plane Surface is output if you are working in the BRep mode. </td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___cylindrical_surface.html">Geom_CylindricalSurface</a> </td><td align="left">120: Surface Of Revolution </td><td align="left"></td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___conical_surface.html">Geom_ConicalSurface</a> </td><td align="left">120: Surface Of Revolution </td><td align="left"></td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___spherical_surface.html">Geom_SphericalSurface</a> </td><td align="left">120: Surface Of Revolution </td><td align="left"></td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___toroidal_surface.html">Geom_ToroidalSurface</a> </td><td align="left">120: Surface Of Revolution </td><td align="left"></td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___surface_of_linear_extrusion.html">Geom_SurfaceOfLinearExtrusion</a> </td><td align="left">122: Tabulated Cylinder </td><td align="left"></td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___surface_of_revolution.html">Geom_SurfaceOfRevolution</a> </td><td align="left">120: Surface Of Revolution </td><td align="left"></td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_geom___offset_surface.html">Geom_OffsetSurface</a> </td><td align="left">140: Offset Surface </td><td align="left"></td></tr>
</table>
<h3><a class="anchor" id="occt_iges_3_4_3"></a>
Topological entities -- Translation in Face mode</h3>
<table class="doxtable">
<tr>
<th align="left">CASCADE shapes </th><th align="left">IGES entity type </th><th align="left">Comments  </th></tr>
<tr>
<td align="left">Single <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___vertex.html">TopoDS_Vertex</a> </td><td align="left">116: 3D Point </td><td align="left"></td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___vertex.html">TopoDS_Vertex</a> in a <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___edge.html">TopoDS_Edge</a> </td><td align="left">No equivalent </td><td align="left">Not transferred. </td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___edge.html">TopoDS_Edge</a> </td><td align="left">All types of translatable IGES curves </td><td align="left">The output IGES curve will be the one that corresponds to the Open CASCADE Technology definition. </td></tr>
<tr>
<td align="left">Single <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___wire.html">TopoDS_Wire</a> </td><td align="left">102: Composite Curve </td><td align="left">Each <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___edge.html">TopoDS_Edge</a></em> in the <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___wire.html">TopoDS_Wire</a></em> results in a curve. </td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___wire.html">TopoDS_Wire</a> in a <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___face.html">TopoDS_Face</a> </td><td align="left">142: Curve On Surface </td><td align="left">Both curves (3D and pcurve) are transferred if they are defined and result in a simple curve or a composite curve depending on whether there is one or more edges in the wire.Note: if the basis surface is a plane (108), only the 3D curve is used. </td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___face.html">TopoDS_Face</a> </td><td align="left">144: Trimmed Surface </td><td align="left"></td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___shell.html">TopoDS_Shell</a> </td><td align="left">402: Form 1 Group or no equivalent </td><td align="left">Group is created only if <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___shell.html">TopoDS_Shell</a></em> contains more than one <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___face.html">TopoDS_Face</a></em>. The IGES group contains Trimmed Surfaces. </td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___solid.html">TopoDS_Solid</a> </td><td align="left">402: Form 1 Group or no equivalent </td><td align="left">Group is created only if <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___solid.html">TopoDS_Solid</a></em> contains more than one <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___shell.html">TopoDS_Shell</a></em>. One IGES entity is created per <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___shell.html">TopoDS_Shell</a></em>. </td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___comp_solid.html">TopoDS_CompSolid</a> </td><td align="left">402: Form 1 Group or no equivalent </td><td align="left">Group is created only if <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___comp_solid.html">TopoDS_CompSolid</a></em> contains more than one <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___solid.html">TopoDS_Solid</a></em>. One IGES entity is created per <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___solid.html">TopoDS_Solid</a></em>. </td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___compound.html">TopoDS_Compound</a> </td><td align="left">402: Form 1 Group or no equivalent </td><td align="left">Group is created only if <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___compound.html">TopoDS_Compound</a></em> contains more than one item. One IGES entity is created per <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___shape.html">TopoDS_Shape</a></em> in the <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___compound.html">TopoDS_Compound</a></em>. If <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___compound.html">TopoDS_Compound</a></em> is nested into another <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___compound.html">TopoDS_Compound</a></em>, it is not mapped. </td></tr>
</table>
<h3><a class="anchor" id="occt_iges_3_4_4"></a>
Topological entities -- Translation in BRep mode</h3>
<table class="doxtable">
<tr>
<th align="left">CASCADE shapes </th><th align="left">IGES entity type </th><th align="left">Comments  </th></tr>
<tr>
<td align="left">Single <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___vertex.html">TopoDS_Vertex</a> </td><td align="left">No equivalent </td><td align="left">Not transferred. </td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___vertex.html">TopoDS_Vertex</a> in a <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___edge.html">TopoDS_Edge</a> </td><td align="left">One item in a 502: <em>VertexList</em> </td><td align="left"></td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___edge.html">TopoDS_Edge</a> </td><td align="left">No equivalent </td><td align="left">Not transferred as such. This entity serves as a part of a Loop entity. </td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___edge.html">TopoDS_Edge</a> in a <a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___wire.html">TopoDS_Wire</a> </td><td align="left">One item in a 504: EdgeList </td><td align="left"></td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___wire.html">TopoDS_Wire</a> </td><td align="left">508: Loop </td><td align="left"></td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___face.html">TopoDS_Face</a> </td><td align="left">510: Face </td><td align="left">If the geometrical support of the face is a plane, it will be translated as a 190 entity <em>PlaneSurface</em>. </td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___shell.html">TopoDS_Shell</a> </td><td align="left">514: Shell </td><td align="left"></td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___solid.html">TopoDS_Solid</a> </td><td align="left">186: Manifold Solid </td><td align="left"></td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___comp_solid.html">TopoDS_CompSolid</a> </td><td align="left">402 Form1 Group or no equivalent </td><td align="left">Group is created only if <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___compound.html">TopoDS_Compound</a></em> contains more than one item. One IGES Manifold Solid is created for each <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___solid.html">TopoDS_Solid</a></em> in the <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___comp_solid.html">TopoDS_CompSolid</a></em>. </td></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___compound.html">TopoDS_Compound</a> </td><td align="left">402 Form1 Group or no equivalent </td><td align="left">Group is created only if <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___compound.html">TopoDS_Compound</a></em> contains more than one item. One IGES entity is created per <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___shape.html">TopoDS_Shape</a></em> in the <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___compound.html">TopoDS_Compound</a></em>. If <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___compound.html">TopoDS_Compound</a></em> is nested into another <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___compound.html">TopoDS_Compound</a></em> it is not mapped. </td></tr>
</table>
<h2><a class="anchor" id="occt_iges_3_5"></a>
Tolerance  management</h2>
<h3><a class="anchor" id="occt_iges_3_5_1"></a>
Setting  resolution in an IGES file</h3>
<p>There are several possibilities to set resolution in an IGES file. They are controlled by write.precision.mode parameter; the dependence between the value of this parameter and the set resolution is described in paragraph <a class="el" href="occt_user_guides__iges.html#occt_iges_3_3_2">Setting the translation parameters</a>.</p>
<p>If the value of parameter <em>write.precision.mode</em> is -1, 0 or 1, resolution is computed from tolerances of sub-shapes inside the shape to be translated. In this computation, only tolerances of <em>TopoDS_Edges</em> and <em>TopoDS_Vertices</em> participate since they reflect the accuracy of the shape. <em>TopoDS_Faces</em> are ignored in computations since their tolerances may have influence on resulting computed resolution while IGES resolution mainly concerns points and curves but not surfaces.</p>
<h2><a class="anchor" id="occt_iges_3_6"></a>
Code architecture</h2>
<h3><a class="anchor" id="occt_iges_3_6_1"></a>
Graph of calls</h3>
<p>The following diagram illustrates the class structure in writing IGES. The highlighted classes are intended to translate geometry.</p>
<div class="image">
<img src="iges_image004.png" alt="iges_image004.png"/>
<div class="caption">
The class structure in writing IGES</div></div>
<h2><a class="anchor" id="occt_iges_3_7"></a>
Example</h2>
<div class="fragment"><div class="line">{c++}</div><div class="line">#include &lt;IGESControl_Controller.hxx&gt; </div><div class="line">#include &lt;IGESControl_Writer.hxx&gt; </div><div class="line">#include &lt;TopoDS_Shape.hxx&gt; </div><div class="line">Standard_Integer main() </div><div class="line">{ </div><div class="line">  IGESControl_Controller::Init(); </div><div class="line">  IGESControl_Writer ICW (;MM;, 0); </div><div class="line">  //creates a writer object for writing in Face mode with  millimeters </div><div class="line">  TopoDS_Shape sh; </div><div class="line">  ICW.AddShape (sh); </div><div class="line">  //adds shape sh to IGES model </div><div class="line">  ICW.ComputeModel(); </div><div class="line">  Standard_Boolean OK = ICW.Write (;MyFile.igs;); </div><div class="line">  //writes a model to the file MyFile.igs </div><div class="line">} </div></div><!-- fragment --><h1><a class="anchor" id="occt_iges_4"></a>
Using XSTEPDRAW</h1>
<p>XSTEPDRAW UL is intended for creating executables for testing XSTEP interfaces interactively in the DRAW environment. It provides an additional set of DRAW commands specific for the data exchange tasks, which allow loading and writing data files and analysis of resulting data structures and shapes.</p>
<p>In the description of commands, square brackets ([]) are used to indicate optional parameters. Parameters given in the angle brackets (&lt;&gt;) and sharps (#) are to be substituted by an appropriate value. When several exclusive variants are possible, vertical dash (|) is used.</p>
<h2><a class="anchor" id="occt_iges_4_2"></a>
Setting interface  parameters</h2>
<p>A set of parameters for importing and exporting IGES files is defined in the XSTEP resource file. In XSTEPDRAW, these parameters can be viewed or changed using command</p>
<div class="fragment"><div class="line">Draw&gt; param [&lt;parameter_name&gt; [&lt;value&gt;]]  </div></div><!-- fragment --><p>Command <em>param</em> with no arguments gives a list of all parameters with their values. When argument <em>parameter_name</em> is specified, information about this parameter is printed (current value and short description).</p>
<p>The third argument is used to set a new value of the given parameter. The result of the setting is printed immediately.</p>
<p>During all interface operations, the protocol of the process (fail and warning messages, mapping of the loaded entities into OCCT shapes etc.) can be output to the trace file. Two parameters are defined in the DRAW session: trace level (integer value from 0 to 9, default is 0), and trace file (default is a standard output).</p>
<p>Command <em>xtrace</em> is intended to view and change these parameters:</p><ul>
<li><em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a>&gt; xtrace</em> &ndash; prints current settings (e.g.: "Level=0 -  Standard Output");</li>
<li><em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a>&gt; xtrace #</em> &ndash; sets the trace level to the value #;</li>
<li><em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a>&gt; xtrace tracefile.log</em> &ndash; sets the trace file as <em>tracefile.log</em>;</li>
<li><em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a> xtrace</em> &ndash; directs all messages to the standard output.</li>
</ul>
<h2><a class="anchor" id="occt_iges_4_3"></a>
Reading IGES files</h2>
<p>For a description of parameters used in reading an IGES file refer to <a class="el" href="occt_user_guides__iges.html#occt_iges_2_3_3">Setting the translation parameters</a>.</p>
<p>These parameters are set by command <em>param</em> :</p>
<table class="doxtable">
<tr>
<th align="left">Description </th><th align="left">Name </th><th align="left">Values  </th></tr>
<tr>
<td align="left"><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_precision.html">Precision</a> for input entities </td><td align="left">read.precision.mode </td><td align="left">0 or 1 </td></tr>
<tr>
<td align="left"></td><td align="left">read.precision.val </td><td align="left">real </td></tr>
<tr>
<td align="left">Continuity of B splines </td><td align="left">read.iges.bspline.continuity </td><td align="left">0-2 </td></tr>
<tr>
<td align="left">Surface curves </td><td align="left">read.surfacecurve.mode </td><td align="left">2, 3 or 0 </td></tr>
</table>
<p>It is possible either only to load an IGES file into memory (i.e. to fill the model with data from the file), or to read it (i.e. to load and convert all entities to OCCT shapes).</p>
<p>Loading is done by the command </p><div class="fragment"><div class="line">Draw&gt; xload &lt;file_name&gt;</div></div><!-- fragment --><p> Once the file is loaded, it is possible to investigate the structure of the loaded data. To learn how to do it see <a class="el" href="occt_user_guides__iges.html#occt_iges_4_4">Analyzing the transferred</a>.</p>
<p>Reading of an IGES file is done by the command </p><div class="fragment"><div class="line">Draw&gt; igesbrep &lt;file_name&gt; &lt;result_shape_name&gt; [&lt;selection&gt;]</div></div><!-- fragment --><p> Here a dot can be used instead of a filename if the file is already loaded by <em>xload</em> or <em>igesbrep</em> command. In that case, only conversion of IGES entities to OCCT shapes will be done.</p>
<p>Command <em>igesbrep</em> will interactively ask the user to select a set of entities to be converted:</p>
<table class="doxtable">
<tr>
<th align="left">N </th><th align="left">Mode </th><th align="left">Description  </th></tr>
<tr>
<td align="left">0 </td><td align="left">End </td><td align="left">finish conversion and exit igesbrep </td></tr>
<tr>
<td align="left">1 </td><td align="left">Visible roots </td><td align="left">convert only visible roots </td></tr>
<tr>
<td align="left">2 </td><td align="left">All roots </td><td align="left">convert all roots </td></tr>
<tr>
<td align="left">3 </td><td align="left">One entity </td><td align="left">convert entity with number provided by the user </td></tr>
<tr>
<td align="left">4 </td><td align="left">Selection </td><td align="left">convert only entities contained in selection </td></tr>
</table>
<p>After the selected set of entities is loaded the user will be asked how loaded entities should be converted into OCCT shapes (e.g., one shape per root or one shape for all the entities). It is also possible to save loaded shapes in files, and to cancel loading.</p>
<p>The second parameter of the <em>igesbrep</em> command defines the name of the loaded shape. If several shapes are created, they will get indexed names. For instance, if the last parameter is ‘s’, they will be <em>s_1, ... s_N.</em></p>
<p><em>&lt;selection&gt;</em> specifies the scope of selected entities in the model, it is <em>xst-transferrable-roots</em> by default. An asterisk “*” can be specified instead of <em>iges-visible-transf-roots</em>. For possible values of <em>selection</em> refer to <a class="el" href="occt_user_guides__iges.html#occt_iges_2_3_4">Selecting entities</a> section.</p>
<p>Instead of <em>igesbrep</em> it is possible to use commands: </p><div class="fragment"><div class="line">Draw&gt; trimport &lt;file_name&gt; &lt;result_shape_name&gt; &lt;selection&gt;</div></div><!-- fragment --><p> which outputs the result of translation of each selected entity into one shape, or </p><div class="fragment"><div class="line">Draw&gt; trimpcomp &lt;file_name&gt; &lt;result_shape_name&gt; &lt;selection&gt;</div></div><!-- fragment --><p> which outputs the result of translation of all selected entities into one shape (<em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_topo_d_s___compound.html">TopoDS_Compound</a></em> for several entities).</p>
<p>An asterisk “*” can be specified instead of <em>selection</em>, it means <em>xst-transferrable-roots</em>.</p>
<p>During the IGES translation, a map of correspondence between IGES entities and OCCT shapes is created. The following commands are available:</p>
<ul>
<li><em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a>&gt; tpent #</em> &ndash; provides information on the result of translation of the given IGES entity;</li>
<li><em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a>&gt; tpdraw #</em> &ndash;creates an OCCT shape corresponding to an IGES entity;</li>
<li><em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a>&gt; fromshape &lt;shape_name&gt;</em> &ndash; provides the number of an IGES entity corresponding to an OCCT shape;</li>
<li><em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a>&gt; tpclear</em> &ndash; clears the map of correspondences between IGES entities and OCCT shapes.</li>
</ul>
<h2><a class="anchor" id="occt_iges_4_4"></a>
Analyzing the transferred data</h2>
<p>The procedure of analysis of the data import can be divided into two stages:</p><ol type="1">
<li>Checking the file contents;</li>
<li>Estimation of translation results (conversion and validated ratios).</li>
</ol>
<h3><a class="anchor" id="occt_iges_4_4_1"></a>
Checking file contents</h3>
<p>General statistics on the loaded data can be obtained by using command </p><div class="fragment"><div class="line">Draw&gt; data &lt;symbol&gt; </div></div><!-- fragment --><p> The information printed by this command depends on the symbol specified:</p>
<table class="doxtable">
<tr>
<th align="left">Symbol </th><th align="left">Output  </th></tr>
<tr>
<td align="left">g </td><td align="left">Prints information contained in the header of the file (Start and Global sections) </td></tr>
<tr>
<td align="left">c or f </td><td align="left">Runs check procedure of the integrity of the loaded data and prints the resulting statistics (f works only with fails while c with both fail and warning messages) </td></tr>
<tr>
<td align="left">t </td><td align="left">The same as c or f, with a list of failed or warned entities </td></tr>
<tr>
<td align="left">m or l </td><td align="left">The same as t but also prints a status for each entity </td></tr>
<tr>
<td align="left">e </td><td align="left">Lists all entities of the model with their numbers, types, status of validity etc. </td></tr>
<tr>
<td align="left">r </td><td align="left">The same as e but lists only root entities </td></tr>
</table>
<p>There is a set of special objects, which can be used to operate with the loaded model. They can be of the following types: </p><table class="doxtable">
<tr>
<th align="left">Special object type </th><th align="left">Operation  </th></tr>
<tr>
<td align="left">Selection Filters </td><td align="left">allow selecting subsets of entities of the loaded model </td></tr>
<tr>
<td align="left">Counters </td><td align="left">Calculate statistics on the model data </td></tr>
</table>
<p>A list of these objects defined in the current session can be printed in DRAW by command </p><div class="fragment"><div class="line">Draw&gt; listitems </div></div><!-- fragment --><p> In the following commands if several <em>&lt;selection&gt;</em> arguments are specified the results of each following selection are applied to the results of the previous one. </p><div class="fragment"><div class="line">Draw&gt; givelist &lt;selection_name&gt; [&lt;selection_name&gt;]</div></div><!-- fragment --><p> prints a list of loaded entities defined by selection argument.</p>
<div class="fragment"><div class="line">Draw&gt; givecount &lt;selection_name&gt; [&lt;selection_name&gt;]</div></div><!-- fragment --><p> prints a number of loaded entities defined by <em>selection</em> argument.</p>
<p>Three commands are used to calculate statistics on the entities in the model:</p><ul>
<li><em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a>&gt; count &lt;counter&gt; [&lt;selection&gt; ...]</em> &ndash; prints only a number of entities per each type matching the criteria defined by arguments.</li>
<li><em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a>&gt; sumcount &lt;counter&gt; [&lt;selection&gt; ...]</em> &ndash; prints the total number of entities of all types matching the criteria defined by arguments and the largest number corresponding to one type.</li>
<li><em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a>&gt; listcount &lt;counter&gt; [&lt;selection&gt; ...]</em> &ndash; prints a list of entities per each type matching the criteria defined by arguments.</li>
</ul>
<p>Optional <em>&lt;selection&gt;</em> argument, if specified, defines a subset of entities, which are to be taken into account. Argument <em>&lt;counter&gt;</em> should be one of the currently defined counters:</p>
<table class="doxtable">
<tr>
<th align="left">Counter </th><th align="left">Operation  </th></tr>
<tr>
<td align="left">xst-types </td><td align="left">Calculates how much entities of each OCCT type exist </td></tr>
<tr>
<td align="left">iges-types </td><td align="left">Calculates how much entities of each IGES type and form exist </td></tr>
<tr>
<td align="left">iges-levels </td><td align="left">Calculates how much entities lie in different IGES levels </td></tr>
</table>
<p>The command: </p><div class="fragment"><div class="line">Draw&gt; listtypes &lt;selection_name&gt; ...</div></div><!-- fragment --><p> gives a list of entity types which were encountered in the last loaded file (with a number of IGES entities of each type). The list can be shown not for all entities but for a subset of them. This subset is defined by an optional selection argument.</p>
<p>Entities in the IGES file are numbered in the succeeding order. An entity can be identified either by its number (#) or by its label. Label is the letter ‘D’ followed by the index of the first line with the data for this entity in the Directory Entry section of the IGES file. The label can be calculated on the basis of the number as ‘D(2*# -1)’. For example, entity # 6 has label D11.</p>
<ul>
<li><em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a>&gt; elab #</em> &ndash; provides a label for an entity with a known number;</li>
<li><em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a>&gt; enum #</em> &ndash; prints a number for an entity with the given label;</li>
<li><em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a>&gt; entity # &lt;level_of_information&gt;</em> &ndash; gives the content of an IGES entity;</li>
<li><em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/class_draw.html">Draw</a>&gt; estat #</em> &ndash; provides the list of entities referenced by a given entity and the list of entities referencing to it.</li>
</ul>
<h3><a class="anchor" id="occt_iges_4_4_2"></a>
Estimating the results of reading IGES</h3>
<p>All of the following commands are available only after the data are converted into OCCT shapes (i.e. after command <b>igesbrep</b>).</p>
<div class="fragment"><div class="line">Draw&gt; tpstat [*|?]&lt;symbol&gt; [&lt;selection&gt;]</div></div><!-- fragment --><p> provides all statistics on the last transfer, including the list of transferred entities with mapping from IGES to OCCT types, as well as fail and warning messages. The parameter <em>&lt;symbol&gt;</em> defines what information will be printed:</p><ul>
<li>G &ndash; General statistics (list of results and messages)</li>
<li>C &ndash; Count of all warning and fail messages</li>
<li>C &ndash; List of all warning and fail messages</li>
<li>F &ndash; Count of all fail messages</li>
<li>F &ndash; List of all fail messages</li>
<li>N &ndash; List of all transferred roots</li>
<li>S &ndash; The same, with types of source entity and result type</li>
<li>B &ndash; The same, with messages</li>
<li>T &ndash; Count of roots for geometrical types</li>
<li>R &ndash; Count of roots for topological types</li>
<li>l &ndash; The same, with a type of the source entity</li>
</ul>
<p>The sign ‘*’ before the parameters <b>n</b>, <b>s</b>, <b>b</b>, <b>t</b>, <b>r</b> makes it work on all entities (not only on roots). The sign ‘?’ before <b>n</b>, <b>s</b>, <b>b</b>, <b>t</b> limits the scope of information to invalid entities.</p>
<p>Optional argument <em>&lt;selection&gt;</em> can limit the action of the command with a selected subset of entities. To get help, run this command without arguments.</p>
<p>For example, to get translation ratio on IGES faces, you can use. </p><div class="fragment"><div class="line">Draw:&gt; tpstat *l iges-faces</div></div><!-- fragment --><p> The second version of the same command is TPSTAT (not capital spelling). </p><div class="fragment"><div class="line">Draw:&gt; TPSTAT &lt;symbol&gt; </div></div><!-- fragment --><p> Symbol can be of the following values:</p><ul>
<li>g &ndash; General statistics (list of results and messages)</li>
<li>c &ndash; Count of all warning and fail messages</li>
<li>C &ndash; List of all warning and fail messages</li>
<li>r &ndash; Count of resulting OCCT shapes per each type</li>
<li>s &ndash; Mapping of IGES roots and resulting OCCT shapes</li>
</ul>
<p>Sometimes the trimming contours of IGES faces (i.e., entity 141 for 143, 142 for 144) can be lost during translation due to fails.</p>
<p>The number of lost trims and the corresponding IGES entities can be obtained by the command: </p><div class="fragment"><div class="line">Draw&gt; tplosttrim [&lt;IGES_type&gt;] </div></div><!-- fragment --><p> It outputs the rank and DE numbers of faces that lost their trims and their numbers for each type (143, 144, 510) and their total number. If a face lost several of its trims it is output only once.</p>
<p>Optional parameter <em>&lt;IGES_type&gt;</em> can be <em>TrimmedSurface, BoundedSurface</em> or <em>Face</em> to specify the only type of IGES faces.</p>
<p>For example, to get untrimmed 144 entities, use command </p><div class="fragment"><div class="line">Draw&gt; tplosttrim TrimmedSurface </div></div><!-- fragment --><p> To get the information on OCCT shape contents, use command </p><div class="fragment"><div class="line">Draw&gt; statshape &lt;shape_name&gt; </div></div><!-- fragment --><p> It outputs the number of each kind of shapes (vertex, edge, wire, etc.) in a shape and some geometrical data (number of C0 surfaces, curves, indirect surfaces, etc.).</p>
<p>Note. The number of faces is returned as a number of references. To obtain the number of single instances the standard command (from TTOPOLOGY executable) <b>nbshapes</b> can be used.</p>
<p>To analyze the internal validity of a shape, use command </p><div class="fragment"><div class="line">Draw&gt; checkbrep &lt;shape_name&gt; &lt;expurged_shape_name&gt;</div></div><!-- fragment --><p> It checks the geometry and topology of a shape for different cases of inconsistency, like self-intersecting wires or wrong orientation of trimming contours. If an error is found, it copies bad parts of the shape with the names "expurged_subshape_name _#" and generates an appropriate message. If possible, this command also tries to find IGES entities the OCCT shape was produced from.</p>
<p><em>&lt;expurged_shape_name&gt;</em> will contain the original shape without invalid subshapes.</p>
<p>To get information on tolerances of subshapes, use command </p><div class="fragment"><div class="line">Draw&gt; tolerance &lt;shape_name&gt; [&lt;min&gt; [&lt;max&gt;] [&lt;symbol&gt;]]</div></div><!-- fragment --><p> It outputs maximum, average and minimum values of tolerances for each kind of subshapes having tolerances or it can output tolerances of all subshapes of the whole shape.</p>
<p>When specifying <em>min</em> and <em>max</em> arguments this command outputs shapes with names <em>&lt;shape_name&gt;...</em> and their total number with tolerances in the range <em>[min, max]</em>.</p>
<p><em>&lt;Symbol&gt;</em> is used for specifying the kind of sub-shapes to analyze:</p><ul>
<li>v &ndash; for vertices,</li>
<li>e &ndash; for edges,</li>
<li>f &ndash; for faces,</li>
<li>c &ndash; for shells and faces.</li>
</ul>
<h2><a class="anchor" id="occt_iges_4_5"></a>
Writing an IGES file</h2>
<p>Refer to <a class="el" href="occt_user_guides__iges.html#occt_iges_3_3_2">Setting the translation parameters</a> for a description of parameters used in reading an IGES file. The parameters are set by command <em>param</em>:</p>
<table class="doxtable">
<tr>
<th align="left">Description </th><th align="left">Name </th><th align="left">Values  </th></tr>
<tr>
<td align="left">Author </td><td align="left">XSTEP.iges.header.author </td><td align="left">String </td></tr>
<tr>
<td align="left">Company </td><td align="left">XSTEP.iges.header.company </td><td align="left">String </td></tr>
<tr>
<td align="left">Receiver </td><td align="left">XSTEP.iges.header.receiver </td><td align="left">String </td></tr>
<tr>
<td align="left">Write mode for shapes </td><td align="left">XSTEP.iges.writebrep.mode </td><td align="left">0/Faces or 1/BRep </td></tr>
<tr>
<td align="left">Measurement units </td><td align="left">XSTEP.iges.unit </td><td align="left">1-11 (or a string value) </td></tr>
</table>
<p>Several shapes can be written in one file. To start writing a new file, enter command </p><div class="fragment"><div class="line">Draw&gt; newmodel </div></div><!-- fragment --><p> This command clears the <em>InterfaceModel</em> to make it empty.</p>
<div class="fragment"><div class="line">Draw&gt; brepiges &lt;shape_name_1&gt; [&lt;filename.igs&gt;]</div></div><!-- fragment --><p> Converts the specified shapes into IGES entities and puts them into the <em>InterfaceModel</em>.</p>
<div class="fragment"><div class="line">Draw&gt; writeall &lt;filename.igs&gt;</div></div><!-- fragment --><p> Allows writing the prepared model to a file with name <em>filename.igs</em>.</p>
<h1><a class="anchor" id="occt_iges_5"></a>
Reading from and writing to IGES</h1>
<h2><a class="anchor" id="occt_iges_5_1"></a>
Reading from IGES</h2>
<h3>Load an IGES file</h3>
<p>Before performing any other operation, you must load an IGES file with: </p><div class="fragment"><div class="line">IGESCAFControl_Reader reader(XSDRAW::Session(),  Standard_False); </div><div class="line">IFSelect_ReturnStatus stat = reader.ReadFile(“filename.igs”); </div></div><!-- fragment --><p> Loading the file only memorizes, but does not translate the data.</p>
<h3>Check the loaded IGES file</h3>
<p>This step is not obligatory. See the description of <a class="el" href="occt_user_guides__iges.html#occt_iges_2_3_2">Checking the IGES file</a> above.</p>
<h3>Set parameters for translation to XDE</h3>
<p>See the description of <a class="el" href="occt_user_guides__iges.html#occt_iges_2_3_3">Setting translation parameters</a> above.</p>
<p>In addition, the following parameters can be set for XDE translation of attributes:</p><ul>
<li>For transferring colors: <div class="fragment"><div class="line">reader.SetColorMode(mode); </div><div class="line">// mode can be Standard_True or Standard_False </div></div><!-- fragment --></li>
<li>For transferring names: <div class="fragment"><div class="line">reader.SetNameMode(mode); </div><div class="line">// mode can be Standard_True or Standard_False </div></div><!-- fragment --></li>
</ul>
<h3>Translate an IGES file to XDE</h3>
<p>The following function performs a translation of the whole document: </p><div class="fragment"><div class="line">Standard_Boolean ok = reader.Transfer(doc);  </div></div><!-- fragment --><p> where <em>doc</em> is a variable which contains a handle to the output document and should have a type <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/_standard___handle_8hxx.html#a464f2f86d5d805f03f4e3c9beb007e40">Handle(TDocStd_Document)</a></em>.</p>
<h2><a class="anchor" id="occt_iges_5_2"></a>
Writing to IGES</h2>
<p>The translation from XDE to IGES can be initialized as follows: </p><div class="fragment"><div class="line">IGESCAFControl_Writer aWriter(XSDRAW::Session(),Standard_False); </div></div><!-- fragment --><h3>Set parameters for translation from XDE to IGES</h3>
<p>The following parameters can be set for translation of attributes to IGES:</p><ul>
<li>For transferring colors: <div class="fragment"><div class="line">aWriter.SetColorMode(mode); </div><div class="line">// mode can be Standard_True or Standard_False </div></div><!-- fragment --></li>
<li>For transferring names: <div class="fragment"><div class="line">aWriter.SetNameMode(mode); </div><div class="line">// mode can be Standard_True or Standard_False </div></div><!-- fragment --></li>
</ul>
<h3>Translate an XDE document to IGES</h3>
<p>You can perform the translation of a document by calling the function: </p><div class="fragment"><div class="line">IFSelect_ReturnStatus aRetSt = aWriter.Transfer(doc); </div></div><!-- fragment --><p> where "doc" is a variable which contains a handle to the input document for transferring and should have a type <em><a class="elRef" doxygen="C:/builds/IR-2017-08-29_IR-2017-08-29/Windows-64-VC10-opt/OCCT/doc/refman/OCCT.tag:../../refman/html/" href="../../refman/html/_standard___handle_8hxx.html#a464f2f86d5d805f03f4e3c9beb007e40">Handle(TDocStd_Document)</a></em>.</p>
<h3>Write an IGES file</h3>
<p>Write an IGES file with: </p><div class="fragment"><div class="line">IFSelect_ReturnStatus statw =  aWriter.WriteFile(&quot;filename.igs&quot;); </div></div><!-- fragment --><p> or </p><div class="fragment"><div class="line">IFSelect_ReturnStatus statw = writer.WriteFile (S); </div></div><!-- fragment --><p> where S is OStream. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Aug 30 2017 17:08:50 for Open CASCADE Technology by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
